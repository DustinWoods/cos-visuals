{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./assets/images/bloom-128x128.png","webpack:///./assets/images/instrument-icons/insicon_bass.svg","webpack:///./assets/images/instrument-icons/insicon_brass.svg","webpack:///./assets/images/instrument-icons/insicon_cello.svg","webpack:///./assets/images/instrument-icons/insicon_clarinet.svg","webpack:///./assets/images/instrument-icons/insicon_cymbals.svg","webpack:///./assets/images/instrument-icons/insicon_flute.svg","webpack:///./assets/images/instrument-icons/insicon_harp.svg","webpack:///./assets/images/instrument-icons/insicon_horn.svg","webpack:///./assets/images/instrument-icons/insicon_keyboard.svg","webpack:///./assets/images/instrument-icons/insicon_oboe.svg","webpack:///./assets/images/instrument-icons/insicon_string.svg","webpack:///./assets/images/instrument-icons/insicon_tamtam.svg","webpack:///./assets/images/instrument-icons/insicon_timpani.svg","webpack:///./assets/images/instrument-icons/insicon_trumpet.svg","webpack:///./assets/images/instrument-icons/note_1.svg","webpack:///./assets/images/instrument-icons/note_2.svg","webpack:///./assets/images/instrument-icons/note_3.svg","webpack:///./assets/images/instrumentsection-2.svg","webpack:///./assets/images/instrumentsection.svg?2337","webpack:///./assets/images/instrumentsection.svg?4786","webpack:///./assets/images/instrumentsection.svg?4b91","webpack:///./assets/images/instrumentsection.svg","webpack:///./assets/images/instrumentsection.svg?9f43","webpack:///./assets/images/instrumentsection.svg?8cba","webpack:///./assets/images/instrumentsection.svg?6340","webpack:///./assets/images/instrumentsection.svg?cc2c","webpack:///./assets/images/instrumentsection.svg?fb1a","webpack:///./assets/images/instrumentsection.svg?279f","webpack:///./assets/images/instrumentsection.svg?ce58","webpack:///./assets/images/logo.png","webpack:///./assets/images/title-bkg.jpg","webpack:///./assets/images/video-bkg.png","webpack:///./assets/images/video-mask-flat.png","webpack:///./assets/images/video-mask.png","webpack:///./assets/video/film-censored.mp4","webpack:///./src/arrow-graphic.ts","webpack:///./src/color-utils.ts","webpack:///./src/colors.ts","webpack:///./src/constants.ts","webpack:///./src/css/styles.css?af31","webpack:///./src/draggable-spawn.ts","webpack:///./src/draggable.ts","webpack:///./src/gradient-backdrop.ts","webpack:///./src/interactive-instrument.ts","webpack:///./src/interactive.ts","webpack:///./src/lerp.ts","webpack:///./src/main.ts","webpack:///./src/on-demand-emitter.ts","webpack:///./src/performance-state.ts","webpack:///./src/performance-video-player.ts","webpack:///./src/progress-bar.ts","webpack:///./src/state-machine.ts","webpack:///./src/state.ts","webpack:///./src/styles.ts","webpack:///./src/title-state.ts","webpack:///./src/tracks/main/index.ts","webpack:///./src/tracks/main/track-interactives.ts","webpack:///./src/video-player.ts"],"names":[],"mappings":"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","file":"assets/js/bundle.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"assets/images/3189f111c098afc68f57fbdd560dd1cf.png\";","module.exports = __webpack_public_path__ + \"assets/images/a793fbb174630c63bf4d4ca0b0d8ca7c.png\";","module.exports = __webpack_public_path__ + \"assets/images/377a9a1ab0565e85240ec78d42aa13e2.png\";","module.exports = __webpack_public_path__ + \"assets/images/96ae1c4d438413643f7d5a83c1832bba.png\";","module.exports = __webpack_public_path__ + \"assets/images/0cd6dc32444107d70333c50c859ec027.png\";","module.exports = __webpack_public_path__ + \"assets/images/475e35e0f264bccc1e74db614b708006.png\";","module.exports = __webpack_public_path__ + \"assets/images/a44c867bfe80a6c501af05cd29f51f9b.png\";","module.exports = __webpack_public_path__ + \"assets/images/7550a4008f84c7191de51589d0efbd8b.png\";","module.exports = __webpack_public_path__ + \"assets/images/45e232131edf088a3cdad9098c50af0b.png\";","module.exports = __webpack_public_path__ + \"assets/images/a99929a5419d5296a6ffe4c140a7584d.png\";","module.exports = __webpack_public_path__ + \"assets/images/0cd6dc32444107d70333c50c859ec027.png\";","module.exports = __webpack_public_path__ + \"assets/images/3bc2991c22e935a54efe5a40aa926247.png\";","module.exports = __webpack_public_path__ + \"assets/images/be4efe78b7cd0a84c6f366ef48bf570a.png\";","module.exports = __webpack_public_path__ + \"assets/images/b003f1a31dfcc827cb8afcda16228bf0.png\";","module.exports = __webpack_public_path__ + \"assets/images/377a9a1ab0565e85240ec78d42aa13e2.png\";","module.exports = __webpack_public_path__ + \"assets/images/ad0ae00dce91a071710cda9ea14737ba.png\";","module.exports = __webpack_public_path__ + \"assets/images/2341000b3b4767e5b9a67f0641860001.png\";","module.exports = __webpack_public_path__ + \"assets/images/c17b181e498773d740318b9e1ea43198.png\";","module.exports = __webpack_public_path__ + \"assets/images/9f01de35df89b1396000a3a6187af62b.png\";","export default function() {this.moveTo(787.5,144).bezierCurveTo(742.88,97.3,678.93,59.34,604.82,34).lineTo(604.82,34).lineTo(568.78,52.54).lineTo(568.78,52.54).bezierCurveTo(624.42,74.08,670.35,105.5,701.13,143.2).lineTo(701.13,143.5).lineTo(787,143.5).lineTo(787.5,144).closePath();}","export default function() {this.moveTo(604.82,34).lineTo(568.78,52.54).lineTo(568.78,52.54).bezierCurveTo(552.12,46.09,534.58,40.53,516.32,35.94).bezierCurveTo(498.95,31.58,480.92,28.11,462.36,25.62).lineTo(462.36,25.62).lineTo(474.7,4.78).lineTo(474.7,4.78).bezierCurveTo(520.76,10.23,564.49,20.2,604.82,34).lineTo(604.82,34).closePath();}","export default function() {this.moveTo(485.89,122.48).lineTo(516.33,95.95).lineTo(516.33,95.95).bezierCurveTo(595.56,115.83,661.14,154.22,701.13,203.2).lineTo(701.13,203.5).lineTo(511.06,203.5).lineTo(511,203.5).bezierCurveTo(505,182.5,480.71,163.95,449.5,154.19).lineTo(449.5,154.2).lineTo(485.89,122.48).closePath();}","export default function() {this.moveTo(0,143.5).lineTo(129.51,143.5).lineTo(129.51,143.49).bezierCurveTo(138.35,130.1,149.79,117.53,163.43,106.02).lineTo(163.43,106.02).lineTo(65.45,89.99).lineTo(65.45,89.98).bezierCurveTo(40.89,106.21,18.73,123.98,0,143.5).lineTo(0,143.5).closePath();}","export default function() {this.moveTo(474.7,4.78).bezierCurveTo(448.17,1.64,420.87,0,393,0).bezierCurveTo(342.61,0,294.1,5.35,248.64,15.25).lineTo(248.64,15.25).lineTo(271.23,35.31).lineTo(271.23,35.31).bezierCurveTo(309.02,26.05,349.88,21,392.5,21).bezierCurveTo(416.43,21,439.79,22.59,462.38,25.63).lineTo(462.38,25.63).lineTo(474.7,4.78).lineTo(474.7,4.78).closePath();}","export default function() {this.moveTo(172.57,37.02).bezierCurveTo(196.73,28.33,222.16,21.02,248.64,15.25).lineTo(248.64,15.25).lineTo(271.23,35.31).lineTo(284.64,47.22).lineTo(284.64,47.22).bezierCurveTo(265.69,52.05,247.77,58.11,231.14,65.25).lineTo(231.14,65.25).lineTo(172.57,37.02).lineTo(172.57,37.02).closePath();}","export default function() {this.moveTo(231.14,38.24).lineTo(172.58,10.02).lineTo(172.58,10.02).bezierCurveTo(158.98,14.91,145.78,20.25,133.03,25.99).lineTo(133.03,25.99).lineTo(204.79,51.02).lineTo(204.79,51.02).bezierCurveTo(213.14,46.45,221.94,42.18,231.14,38.24).lineTo(231.14,38.24).closePath();}","export default function() {this.moveTo(485.89,122.48).lineTo(449.5,154.2).lineTo(449.5,154.19).bezierCurveTo(432.78,148.96,413.73,146,393.5,146).bezierCurveTo(373.29,146,354.24,148.96,337.53,154.18).lineTo(337.53,154.19).lineTo(301.78,122.45).lineTo(301.78,122.45).bezierCurveTo(330.19,114.55,361.13,110.21,393.5,110.21).bezierCurveTo(426.19,110.21,457.36,114.46,486,122.51).lineTo(485.89,122.48).closePath();}","export default function() {this.moveTo(129.51,203.5).lineTo(275.66,203.5).lineTo(275.66,203.5).bezierCurveTo(277.66,197.36,280.99,191.5,285.48,186.03).lineTo(285.51,186).lineTo(163.42,166.03).lineTo(163.42,166.03).bezierCurveTo(149.79,177.53,138.36,190.1,129.51,203.5).lineTo(129.51,203.5).closePath();}","export default function() {this.moveTo(163.43,166.02).bezierCurveTo(194.13,140.13,235.99,119.62,284.64,107.21).lineTo(284.64,107.21).lineTo(337.53,154.18).lineTo(337.53,154.17).bezierCurveTo(314.97,161.22,296.66,172.41,285.49,186.02).lineTo(285.52,185.99).lineTo(163.43,166.02).lineTo(163.43,166.02).closePath();}","export default function() {this.moveTo(516.33,65.95).lineTo(485.89,92.48).lineTo(486.06,92.67).bezierCurveTo(457.42,84.62,426.19,80.19,393.5,80.19).bezierCurveTo(361.13,80.19,330.19,84.53,301.78,92.43).lineTo(301.78,92.43).lineTo(284.64,77.21).lineTo(271.23,65.3).lineTo(271.23,65.3).bezierCurveTo(309.02,56.05,349.88,51,392.5,51).bezierCurveTo(436.09,51,477.82,56.29,516.33,65.95).lineTo(516.33,65.95).closePath();}","module.exports = __webpack_public_path__ + \"assets/images/6d3202b03f5d82f92ff29405687242d4.png\";","module.exports = __webpack_public_path__ + \"assets/images/f25490ae7aa43495d79babe80ce53636.jpg\";","module.exports = __webpack_public_path__ + \"assets/images/994c37c4c6ab966a9fd675772d69e84e.png\";","module.exports = __webpack_public_path__ + \"assets/images/1d9d48aed6a0ebd1c3a8f2cad00a82c7.png\";","module.exports = __webpack_public_path__ + \"assets/images/8f284b106b34ef2f63279f12b25f01e6.png\";","module.exports = __webpack_public_path__ + \"assets/video/5859965b7cdbb0a0e3ff239068020e44.mp4\";","import { Graphics, Container } from \"pixi.js\";\n\nconst ARROW_THICK = 5;\nconst ARROW_HEAD = 20;\nconst ARROW_ANGLE = 1.2 * Math.PI / 4;\nconst PAD_LENGTH = 0;\nconst ARROW_HEAD_LENGTH = Math.cos(ARROW_ANGLE) * ARROW_HEAD;\n\nexport default class ArrowGraphic extends Container {\n  protected graphics = new Graphics();\n  private needsDraw = true;\n  private slidei = 0;\n  private _angle: number;\n  private arrowP1: number;\n  private arrowP2: number;\n  private arrowP3: number;\n  private arrowP4: number;\n\n  constructor(public fromPoint: [number, number], private _toPoint: [number, number]) {\n    super();\n    this.draw();\n    this.addChild(this.graphics);\n    this.toPoint = _toPoint;\n  }\n\n  set toPoint([x, y] : [number, number]) {\n    this._toPoint = [x, y];\n    this.needsDraw = true;\n\n    this._angle = Math.atan2(this._toPoint[0] - this.fromPoint[0], this._toPoint[1] - this.fromPoint[1]) + Math.PI/2;\n    this.arrowP1 = Math.sin(this._angle - Math.PI - ARROW_ANGLE);\n    this.arrowP2 = Math.cos(this._angle - Math.PI - ARROW_ANGLE);\n    this.arrowP3 = Math.sin(this._angle + ARROW_ANGLE);\n    this.arrowP4 = Math.cos(this._angle + ARROW_ANGLE);\n  }\n\n  tick(delta: number) {\n    this.slidei += delta / 2;\n    this.slidei = this.slidei % (Math.PI * 2);\n    const slidePos = Math.cos(this.slidei) * 10;\n\n    this.graphics.position.set(Math.cos(this._angle) * slidePos, - Math.sin(this._angle) * slidePos);\n\n    if(this.needsDraw) {\n      this.draw();\n    }\n  }\n\n  draw() {\n    this.needsDraw = false;\n\n      this.graphics.clear()\n      .lineStyle(ARROW_THICK, 0xffffff, 1)\n      .moveTo(this.fromPoint[0] - Math.cos(-this._angle) * PAD_LENGTH, this.fromPoint[1] - Math.sin(-this._angle) * PAD_LENGTH)\n      .lineTo(this._toPoint[0] + Math.cos(-this._angle) * (PAD_LENGTH + ARROW_HEAD_LENGTH + ARROW_THICK), this._toPoint[1] + Math.sin(-this._angle) * (PAD_LENGTH + ARROW_HEAD_LENGTH + ARROW_THICK))\n      .lineStyle(1, 0xffffff, 1)\n      .beginFill(0xffffff)\n      .drawPolygon([\n        this._toPoint[0] + Math.cos(-this._angle) * PAD_LENGTH,\n        this._toPoint[1] + Math.sin(-this._angle) * PAD_LENGTH,\n        this._toPoint[0] + Math.cos(-this._angle) * PAD_LENGTH + this.arrowP1 * ARROW_HEAD,\n        this._toPoint[1] + Math.sin(-this._angle) * PAD_LENGTH + this.arrowP2 * ARROW_HEAD,\n        this._toPoint[0] + Math.cos(-this._angle) * PAD_LENGTH + this.arrowP3 * ARROW_HEAD,\n        this._toPoint[1] + Math.sin(-this._angle) * PAD_LENGTH + this.arrowP4 * ARROW_HEAD,\n      ])\n  }\n}","\nexport function hue2rgb(p: number, q: number, t: number) {\n  if (t < 0) t += 1;\n  if (t > 1) t -= 1;\n  if (t < 1 / 6) return p + (q - p) * 6 * t;\n  if (t < 1 / 2) return q;\n  if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n  return p;\n}\n\nexport function hslToRgb(h: number, s: number, l: number) {\n  var r, g, b;\n\n  if (s == 0) {\n    r = g = b = l; // achromatic\n  } else {\n\n\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n\n  return r * 255 * Math.pow(256, 2) + g * 255 * 256 + b * 255;\n}\n\nexport function rgbToDecimal([r, g, b]: [number, number, number]) {\n  return Math.round(b * 255) + (Math.round(g * 255) << 8) + (Math.round(r * 255) << 16);\n}","import { Instrument } from \"./types/instruments\";\nimport { rgbToDecimal } from \"./color-utils\";\n\nexport const INSTRUMENT_COLORS: {[key in Instrument]?: number} = {\n  [\"Violin\"]: 0xaa4444,\n  [\"Viola\"]: 0xaa4444,\n  [\"Cello\"]: 0xaa4444,\n  [\"Bass\"]: 0xaa4444,\n  [\"Harp\"]: 0xaa4444,\n\n  [\"Flute\"]: 0xaaaa44,\n  [\"Piccolo\"]: 0xaaaa44,\n  [\"Oboe\"]: 0xaaaa44,\n  [\"English Horn\"]: 0xaaaa44,\n  [\"Clarinet\"]: 0xaaaa44,\n  [\"Basset Horn\"]: 0xaaaa44,\n  [\"Bass Clarinet\"]: 0xaaaa44,\n  [\"Bassoon\"]: 0xaaaa44,\n  [\"Double Bassoon\"]: 0xaaaa44,\n  [\"Saxophone\"]: 0xaaaa44,\n\n  [\"French Horn\"]: 0xccee66,\n  [\"Trumpet\"]: 0xccee66,\n  [\"Cornet\"]: 0xccee66,\n  [\"Slide Trombone\"]: 0xccee66,\n  [\"Tuba\"]: 0xccee66,\n\n  [\"Timpani\"]: 0x7700ee,\n  [\"Bass Drum\"]: 0x7700ee,\n  [\"Snare Drum\"]: 0x7700ee,\n  [\"Chimes\"]: 0x7700ee,\n  [\"Cymbals\"]: 0x7700ee,\n  [\"Gong\"]: 0x7700ee,\n  [\"Triangle\"]: 0x7700ee,\n  [\"Glockenspiel\"]: 0x7700ee,\n  [\"Xylophone\"]: 0x7700ee,\n  [\"Castanets\"]: 0x7700ee,\n  [\"Tambourine\"]: 0x7700ee,\n}\n\nexport const DEFAULT_INSTRUMENT_COLOR = 0x1111ff;\n\n\nexport const COLOR_BOOKSTORE_HIGHLIGHT = rgbToDecimal(<[number,number,number]>[63,54,42].map(d => d/100));\nexport const COLOR_BOOKSTORE_A = <[number,number,number]>[63,54,42].map(d => d/100);\nexport const COLOR_BOOKSTORE_B = <[number,number,number]>[32,22,13].map(d => d/100);\n\nexport const COLOR_BUS_HIGHLIGHT = rgbToDecimal(<[number,number,number]>[62,63,61].map(d => d/100));\nexport const COLOR_BUS_A = <[number,number,number]>[62,63,61].map(d => d/100);\nexport const COLOR_BUS_B = <[number,number,number]>[21,22,19].map(d => d/100);\n\nexport const COLOR_DESERT_HIGHLIGHT = rgbToDecimal(<[number,number,number]>[60,50,42].map(d => d/100));\nexport const COLOR_DESERT_A = <[number,number,number]>[60,50,42].map(d => d/100);\nexport const COLOR_DESERT_B = <[number,number,number]>[27,20,13].map(d => d/100);\n\nexport const COLOR_FOREST_HIGHLIGHT = rgbToDecimal(<[number,number,number]>[61,60,36].map(d => d/100));\nexport const COLOR_FOREST_A = <[number,number,number]>[61,60,36].map(d => d/100);\nexport const COLOR_FOREST_B = <[number,number,number]>[17,20,13].map(d => d/100);\n\nexport const COLOR_LAKE_HIGHLIGHT = rgbToDecimal(<[number,number,number]>[49,55,59].map(d => d/100));\nexport const COLOR_LAKE_A = <[number,number,number]>[49,55,59].map(d => d/100);\nexport const COLOR_LAKE_B = <[number,number,number]>[12,14,14].map(d => d/100);\n\nexport const COLOR_MOUNTAIN_HIGHLIGHT = rgbToDecimal(<[number,number,number]>[66,62,64].map(d => d/100));\nexport const COLOR_MOUNTAIN_A = <[number,number,number]>[66,62,64].map(d => d/100);\nexport const COLOR_MOUNTAIN_B = <[number,number,number]>[27,26,29].map(d => d/100);\n\nexport const COLOR_RECAP_HIGHLIGHT = rgbToDecimal(<[number,number,number]>[0,0,100].map(d => d/100));\nexport const COLOR_RECAP_A = <[number,number,number]>[0,0,100].map(d => d/100);\nexport const COLOR_RECAP_B = <[number,number,number]>[0,100,0].map(d => d/100);\n\nexport const COLOR_HALL_HIGHLIGHT = rgbToDecimal(<[number,number,number]>[96,92,81].map(d => d/100));\nexport const COLOR_HALL_A = <[number,number,number]>[16,9,8].map(d => d/100);\nexport const COLOR_HALL_B = <[number,number,number]>[96,92,81].map(d => d/100);\n\n\n\n\n\n\n\n\n","export const WORLD_WIDTH = 2000;\nexport const WORLD_HEIGHT = 2000;\nexport const DRAGGABLE_RADIUS = 32;","// extracted by mini-css-extract-plugin","import { Graphics, Point, InteractionEvent } from \"pixi.js\";\nimport { Interactive } from \"./interactive\";\nimport { DRAGGABLE_RADIUS } from \"./constants\";\nimport { Draggable, DraggableState } from './draggable';\nimport ArrowGraphic from \"./arrow-graphic\";\n\nexport class DraggableSpawn extends Interactive {\n  protected graphics: Graphics = new Graphics();\n  protected dragging = false;\n  public origin: Point = new Point();\n  private multiplier: number = 1.0;\n  public isDragging = false;\n  public draggingObject?: Draggable;\n  protected firstArrow: ArrowGraphic;\n\n  constructor() {\n    super();\n    this.spawnDraggable();\n\n    this.firstArrow = new ArrowGraphic([-52, -26],[-100,-50]);\n    this.addChild(this.firstArrow);\n\n  }\n\n  spawnDraggable() {\n    if(this.draggingObject) {\n      // Just in case, let's make sure we don't have listeners on an old draggable\n      this.draggingObject.off('dragActive', this.onActiveDrag.bind(this));\n      this.draggingObject.off('dragInactive', this.onInctiveDrag.bind(this));\n      this.draggingObject.off('adopted', this.onAdopted.bind(this));\n    }\n    this.draggingObject = new Draggable();\n    this.addChild(this.draggingObject);\n    this.draggingObject.position.set(0,0);\n    //this.draggingObject.multiplierResize(this.multiplier);\n    this.draggingObject.on('dragActive', this.onActiveDrag.bind(this));\n    this.draggingObject.on('dragInactive', this.onInctiveDrag.bind(this));\n    this.draggingObject.on('dragged', this.onDragged.bind(this));\n    this.draggingObject.on('adopted', this.onAdopted.bind(this));\n    this.draggingObject.on('destroy', this.onDestroy.bind(this));\n  }\n\n  onDestroy(dragging: Draggable) {\n    dragging.abandon();\n  }\n\n  onAdopted(dragging: Draggable) {\n    if(this.firstArrow) {\n      this.firstArrow.destroy();\n      delete this.firstArrow;\n      this.emit('firstDrag');\n    }\n    dragging.off('destroy', this.onDestroy.bind(this));\n    this.spawnDraggable();\n  }\n\n  onActiveDrag(dragging: Draggable, e: InteractionEvent) {\n    this.isDragging = true;\n  }\n\n  onDragged(dragging: Draggable, e: InteractionEvent) {\n    this.emit('dragged', dragging, e);\n  }\n\n  onInctiveDrag(dragging: Draggable, e: InteractionEvent) {\n    this.isDragging = false;\n    setImmediate(this.checkKill.bind(this));\n  }\n\n  checkKill() {\n    if(!this.isDragging && this.draggingObject) {\n      const distanceFromCenter = this.draggingObject.position.x * this.draggingObject.position.x + this.draggingObject.position.y * this.draggingObject.position.y;\n      if(distanceFromCenter < 100 * 100 * this.multiplier) {\n        this.draggingObject.position.set(0,0);\n      } else {\n        this.draggingObject.setState(DraggableState.SHRINK_OUT, 0.5);\n        this.spawnDraggable();\n      }\n    }\n  }\n\n  setOrigin(x: number, y: number) {\n    this.origin.x = x;\n    this.origin.y = y;\n    this.position.set(x, y);\n  }\n\n  multiplierResize(multiplier: number) {\n    this.multiplier = multiplier;\n    this.scale.set(multiplier);\n  }\n\n  onTick(beat: number, deltaBeat: number) {\n    if(this.children) {\n      this.children.forEach((maybeDraggable) => {\n        if(maybeDraggable instanceof Draggable) {\n          maybeDraggable.onTick(beat, deltaBeat);\n        }\n      });\n    }\n\n    if(this.firstArrow) {\n      let alpha = 1;\n      if(this.draggingObject) {\n        const distanceFromDest = Math.pow( - 100 - this.draggingObject.position.x, 2) + Math.pow( - 50 - this.draggingObject.position.y, 2);\n        alpha = Math.max(0, Math.min(1, distanceFromDest / 10000 ) );\n      }\n      this.firstArrow.alpha = alpha;\n      this.firstArrow.tick(deltaBeat);\n    }\n\n  }\n\n  setState(newState: DraggableState, value: number) {\n    //\n  }\n\n}","import { Graphics, Point, Sprite, BLEND_MODES, Container, DisplayObject, InteractionEvent } from \"pixi.js\";\nimport { Interactive } from \"./interactive\";\nimport { DRAGGABLE_RADIUS } from \"./constants\";\nimport bloomImage from '../assets/images/bloom-128x128.png';\nimport ClickTrack from \"click-track\";\nimport OnDemandEmitter from \"./on-demand-emitter\";\n\nimport note_1 from '../assets/images/instrument-icons/note_1.svg';\nimport note_2 from '../assets/images/instrument-icons/note_2.svg';\nimport note_3 from '../assets/images/instrument-icons/note_3.svg';\nimport { PathParticle } from \"pixi-particles\";\nimport PerformanceState from \"./performance-state\";\n\nexport enum DraggableState {\n  HIDDEN,\n  IDLE,\n  SHRINK_OUT,\n  SHRINK_IN\n}\n\nexport class Draggable extends Interactive {\n  protected graphics: DisplayObject = new Graphics();\n  protected dragging = false;\n  public origin: Point = new Point();\n  protected state: DraggableState;\n  protected lastPosition: Point = new Point();\n  protected pointerPos: Point;\n  protected velocity: [number, number];\n  protected velocityMeasurements: Array<[number, number]> = [];\n  protected lastBeat: number = 0;\n  protected visualCuesClicktrack: ClickTrack;\n  protected visualCuesEmitter: OnDemandEmitter;\n  private bloomSprite: Sprite;\n\n  constructor() {\n    super();\n    (this.graphics as Graphics)\n      .clear()\n      .beginFill(0xffffff, 1)\n      .drawCircle(0, 0, DRAGGABLE_RADIUS)\n      .endFill();\n    this.addChild(this.graphics);\n\n    this.bloomSprite = Sprite.from(bloomImage);\n    this.bloomSprite.scale.set(0.7);\n    this.bloomSprite.blendMode = BLEND_MODES.SOFT_LIGHT;\n    this.bloomSprite.anchor.set(0.5, 0.5);\n    this.setState(DraggableState.SHRINK_IN, 1.0);\n\n    this.addChild(this.bloomSprite);\n\n    this.graphics.interactive = true;\n    this.graphics.cursor = \"grab\";\n    this.graphics\n      .on('pointerdown', this.onDragStart.bind(this))\n      .on('pointerup', this.onDragEnd.bind(this))\n      .on('pointerupoutside', this.onDragEnd.bind(this));\n  }\n\n  adopt(newParent: Container) {\n    this.emit('adopted', this, newParent);\n    this.setState(DraggableState.SHRINK_IN, 0);\n    this.velocity = [0,0];\n  }\n\n  abandon() {\n    if(this.parent) {\n      this.parent.removeChild(this);\n    }\n    this.destroy();\n  }\n\n  setOrigin(x: number, y: number) {\n    this.origin.x = x;\n    this.origin.y = y;\n    this.position.set(x, y);\n  }\n\n  onDragStart(e: InteractionEvent) {\n    this.dragging = true;\n    this.graphics.cursor = \"grabbing\";\n    this.emit(\"dragActive\", this, e);\n    this.graphics.on('pointermove', this.onDragMove.bind(this));\n    document.body.classList.add(\"dragging\");\n  }\n\n  onDragEnd(e: InteractionEvent) {\n    this.dragging = false;\n    this.graphics.cursor = \"auto\";\n    this.emit(\"dragInactive\", this, e);\n    this.graphics.off('pointermove', this.onDragMove.bind(this));\n    this.emit(\"dragged\", this, e);\n    document.body.classList.remove(\"dragging\");\n  }\n\n  onDragMove(e: InteractionEvent) {\n    if (this.dragging) {\n      const newPosition = e.data.getLocalPosition(this.parent);\n      this.pointerPos = new Point();\n      this.pointerPos.copyFrom(newPosition);\n    }\n  }\n\n  onTick(beat: number, deltaBeat: number) {\n    super.onTick(beat, deltaBeat);\n\n    if(this._destroyed) return;\n\n    if(this.visualCuesEmitter) {\n      this.visualCuesEmitter.update(deltaBeat);\n    }\n\n    if(this.pointerPos && this.dragging) {\n      this.lastPosition.copyFrom(this.position);\n      this.position.copyFrom(this.pointerPos);\n      const velMeasurement: [number, number] = [(this.position.x - this.lastPosition.x) / deltaBeat, (this.position.y - this.lastPosition.y) / deltaBeat];\n      this.velocityMeasurements.push(velMeasurement);\n      // keep measurements to 5\n      if(this.velocityMeasurements.length > 10) {\n        this.velocityMeasurements.shift();\n      }\n      // Calculate avg velocity from samples\n      this.velocity = [0,0];\n      for (let i = 0; i < this.velocityMeasurements.length; i++) {\n        this.velocity[0] += this.velocityMeasurements[i][0];\n        this.velocity[1] += this.velocityMeasurements[i][1];\n      }\n      this.velocity[0] = this.velocity[0] / this.velocityMeasurements.length;\n      this.velocity[1] = this.velocity[1] / this.velocityMeasurements.length;\n    }\n\n    const ydiff = (this.position.y - this.origin.y);\n    const perspectivescale = Math.pow(2, ydiff / 200);\n    this.scale.set(perspectivescale, perspectivescale);\n\n    if(this.state === DraggableState.SHRINK_OUT) {\n      this.position.set(this.position.x + this.velocity[0] * deltaBeat / 2, this.position.y + this.velocity[1] * deltaBeat / 2);\n      this.graphics.scale.set(1 - this.stateFade);\n      this.alpha = 1 - this.stateFade;\n      if(this.stateFade >= 1) {\n        this.emit(\"destroy\", this);\n      }\n    }\n\n    if(this.state === DraggableState.SHRINK_IN) {\n      this.graphics.scale.set(this.stateFade);\n      this.alpha = this.stateFade;\n      if(this.stateFade >= 1) {\n        this.setState(DraggableState.IDLE, 1.0);\n      }\n    }\n  }\n\n  setIcon(icon: Sprite) {\n    this.graphics.destroy();\n    icon.anchor.set(0.5);\n    this.graphics = icon;\n    this.addChild(this.graphics);\n\n    const scale = 1;\n    this.graphics.scale.set(scale);\n    this.bloomSprite.visible = false;\n  }\n\n  setVisualCues(cues: number[]) {\n    if(this.visualCuesClicktrack) {\n      throw new Error(\"Can't set the visual cues again\");\n    }\n\n    this.visualCuesClicktrack = new ClickTrack({\n      timerSource: PerformanceState.clickTrack.timer,\n      offset: PerformanceState.clickTrack.offset,\n      tempo: PerformanceState.clickTrack.tempo,\n      cues: [...cues]\n    });\n\n    // This config is temp, need to move to setter\n    this.visualCuesEmitter = new OnDemandEmitter(\n      this,\n      [\n        note_1,\n        note_2,\n        note_3\n      ], {\n        \"alpha\": {\n          \"start\": .8,\n          \"end\": 0\n        },\n        \"scale\": {\n          \"start\": 0.3,\n          \"end\": 0.3,\n          \"minimumScaleMultiplier\": 0.5\n        },\n        \"color\": {\n          \"start\": \"#ffffff\",\n          \"end\": \"#000000\"\n        },\n        \"speed\": {\n          \"start\": 50,\n          \"end\": 50,\n          \"minimumSpeedMultiplier\": 1\n        },\n        \"acceleration\": {\n          \"x\": 0,\n          \"y\": 0\n        },\n        \"maxSpeed\": 0,\n        \"startRotation\": {\n          \"min\": 0,\n          \"max\": 0\n        },\n        \"noRotation\": true,\n        \"rotationSpeed\": {\n          \"min\": 0,\n          \"max\": 0\n        },\n        \"lifetime\": {\n          \"min\": 6,\n          \"max\": 6\n        },\n        \"blendMode\": \"normal\",\n        \"extraData\": {\n          \"path\":\"sin(x/30)* 20 - x/3\" // dust devil\n        },\n        \"frequency\": 0.01,\n        \"particlesPerWave\": 1,\n        \"emitterLifetime\": -1,\n        \"maxParticles\": 15,\n        \"pos\": {\n          \"x\": 32,\n          \"y\": -32\n        },\n        \"addAtBack\": false,\n        \"spawnType\": \"point\"\n      }\n    );\n\n    this.visualCuesEmitter.particleConstructor = PathParticle;\n    let whichArtCounter = 1;\n\n    this.visualCuesClicktrack.on(\"cue\", (ct, e) => {\n      this.visualCuesEmitter.spawn(1, e.drag, 0);\n    });\n\n    this.visualCuesClicktrack.once(\"lastCue\", () => {\n      this.visualCuesClicktrack.deconstruct();\n      delete this.visualCuesClicktrack;\n      this.setState(DraggableState.SHRINK_OUT, 0.1);\n    });\n  }\n\n  multiplierResize(m: number) {}\n\n  setState(newState: DraggableState, value: number) {\n    if(newState === DraggableState.SHRINK_OUT) {\n      this.stateFadeTime = value;\n      this.stateFade = 1 - this.scale.x;\n    }\n    if(newState === DraggableState.SHRINK_IN) {\n      this.stateFadeTime = 0.5;\n      this.stateFade = 1 - this.scale.x;\n    }\n    this.state = newState;\n  }\n\n}","import { Graphics, Filter } from \"pixi.js\";\nimport { COLOR_BOOKSTORE_A, COLOR_BOOKSTORE_B, COLOR_BUS_A, COLOR_BUS_B, COLOR_DESERT_A, COLOR_DESERT_B, COLOR_FOREST_A, COLOR_FOREST_B, COLOR_LAKE_A, COLOR_LAKE_B, COLOR_MOUNTAIN_A, COLOR_MOUNTAIN_B, COLOR_RECAP_A, COLOR_RECAP_B, COLOR_HALL_A, COLOR_HALL_B } from \"./colors\";\n\nexport default class GradientBackdrop extends Graphics {\n  private needDraw: boolean = true;\n  private _fromColorA: [number,number,number] = [0,0,0];\n  private _fromColorB: [number,number,number] = [0,0,0];\n  private _colorA: [number,number,number] = [0,0,0];\n  private _colorB: [number,number,number] = [0,0,0];\n  private _colorATimer: number = 0;\n  private _colorBTimer: number = 0;\n\n  protected maxHeight: number = 256;\n  public transitionSpeed = 50;\n\n  constructor() {\n    super();\n    this.draw();\n\n    this.filters = [\n      new Filter(undefined, `\n        uniform float maxXCoord;\n        uniform float startXCoord;\n        uniform float maxYCoord;\n        uniform float startYCoord;\n        uniform float edgeFallOff;\n        uniform vec3 colorA;\n        uniform vec3 colorB;\n        void main() {\n          float fallOffLeft = max(0.0, min(1.0, (gl_FragCoord.x - startXCoord) / edgeFallOff));\n          float fallOffRight = max(0.0, min(1.0, (maxXCoord - gl_FragCoord.x) / edgeFallOff));\n          float fallOffBottom = 1.0; // No need\n          float fallOffTop = max(0.0, min(1.0, (gl_FragCoord.y - startYCoord) / edgeFallOff));\n          float fallOff = min(min(min(fallOffLeft, fallOffRight), fallOffBottom), fallOffTop);\n\n          float colorScale = ((gl_FragCoord.y - startYCoord)/(maxYCoord - startYCoord));\n          gl_FragColor.rgb = mix(colorA, colorB, min(1.0,max(0.0, colorScale))) * fallOff;\n        }\n      `, {\n        colorA: this._colorA,\n        colorB: this._colorB,\n        edgeFallOff: 5.0 * window.devicePixelRatio,\n        startYCoord: 0,\n        maxYCoord: window.innerHeight,\n        maxXCoord: window.innerWidth,\n        startXCoord: 0,\n      })\n    ];\n  }\n\n  set biomeTheme(theme: string) {\n    switch (theme) {\n      case \"bookstore\":\n        this.colorA = COLOR_BOOKSTORE_A;\n        this.colorB = COLOR_BOOKSTORE_B;\n        break;\n\n      case \"bus\":\n        this.colorA = COLOR_BUS_A;\n        this.colorB = COLOR_BUS_B;\n        break;\n\n      case \"desert\":\n        this.colorA = COLOR_DESERT_A;\n        this.colorB = COLOR_DESERT_B;\n        break;\n\n      case \"forest\":\n        this.colorA = COLOR_FOREST_A;\n        this.colorB = COLOR_FOREST_B;\n        break;\n\n      case \"lake\":\n        this.colorA = COLOR_LAKE_A;\n        this.colorB = COLOR_LAKE_B;\n        break;\n\n      case \"mountain\":\n        this.colorA = COLOR_MOUNTAIN_A;\n        this.colorB = COLOR_MOUNTAIN_B;\n        break;\n\n      case \"recap\":\n        this.colorA = COLOR_RECAP_A;\n        this.colorB = COLOR_RECAP_B;\n        break;\n\n      case \"hall\":\n      default:\n        this.colorA = COLOR_HALL_A;\n        this.colorB = COLOR_HALL_B;\n        break;\n    }\n  }\n\n  set colorA(color: [number, number, number]) {\n    this._colorA = color;\n    this._fromColorA = <[number, number, number]>[...this.filters[0].uniforms.colorA];\n    this._colorATimer = this.transitionSpeed;\n  }\n\n  set colorB(color: [number, number, number]) {\n    this._colorB = color;\n    this._fromColorB = <[number, number, number]>[...this.filters[0].uniforms.colorB];\n    this._colorBTimer = this.transitionSpeed;\n  }\n\n  onTick(deltaMs: number) {\n    if(this._colorATimer > 0) {\n      this._colorATimer -= deltaMs;\n      if(this._colorATimer < 0) this._colorATimer = 0;\n      const l = 1 - Math.min(1, Math.max( 0, this._colorATimer / this.transitionSpeed ));\n      const lerpColor = this._fromColorA.map((c,i) => c + (this._colorA[i] - c) * l);\n      this.filters[0].uniforms.colorA = lerpColor;\n    }\n    if(this._colorBTimer > 0) {\n      this._colorBTimer -= deltaMs;\n      if(this._colorBTimer < 0) this._colorBTimer = 0;\n      const l = 1 - Math.min(1, Math.max( 0, this._colorBTimer / this.transitionSpeed ));\n      const lerpColor = this._fromColorB.map((c,i) => c + (this._colorB[i] - c) * l);\n      this.filters[0].uniforms.colorB = lerpColor;\n    }\n    if(this.needDraw) {\n      this.draw();\n    }\n  }\n\n  multiplierResize(multiplier: number) {\n    const w = window.innerWidth;\n    const h = window.innerHeight;\n    this.scale.set(window.innerWidth - 2, h / this.maxHeight);\n    this.position.set(0, 0);\n\n    const bounds = this.getBounds();\n\n    this.filters[0].uniforms.startYCoord = 0;\n    this.filters[0].uniforms.maxYCoord = (bounds.height - 300 * multiplier) * window.devicePixelRatio;\n\n    this.filters[0].uniforms.startXCoord = 0;//bounds.x * window.devicePixelRatio;\n    this.filters[0].uniforms.maxXCoord = window.innerWidth * window.devicePixelRatio; //(bounds.x + bounds.width) * window.devicePixelRatio;\n    this.filters[0].uniforms.edgeFallOff = multiplier * 5 * window.devicePixelRatio;\n  }\n\n  draw() {\n    this.clear()\n      .beginFill(0xffffff)\n      .drawRect(0, 0, 1, 256)\n      .endFill();\n\n    this.needDraw = false;\n  }\n}","import { Graphics, Point, Sprite, InteractionEvent } from \"pixi.js\";\nimport { Interactive } from \"./interactive\";\nimport { Draggable, DraggableState } from \"./draggable\";\nimport { powLerpPoint } from \"./lerp\";\nimport { DRAGGABLE_RADIUS } from \"./constants\";\nimport PerformanceState from \"./performance-state\";\n\nexport enum InstrumentState {\n  IDLE,\n  CUE_READY,\n  CUED,\n  HIT,\n  HIT_SUCCESS,\n}\n\nexport class InteractiveInstrument extends Interactive {\n  private bkgGraphics: Graphics = new Graphics();\n  private indicatorPoint: Point = new Point();\n  private indicatorStartPoint: Point = new Point();\n  private indicatorEndPoint: Point = new Point();\n  private draggables: Array<Draggable> = [];\n  private mCenterPoint: Point = new Point();\n  private needDraw = true;\n  private currentColor: number = 0x000000;\n  private _highlightColor: number = 0x99be63;\n  private _outlineThickness: number = 0;\n\n  public state: InstrumentState = InstrumentState.IDLE;\n  public stateValue?: any = 0;\n  private nextCueSprite?: Sprite;\n\n  constructor(private idleColor: number, private graphicsDraw: () => void) {\n    super();\n\n    this.color = idleColor;\n\n    this.draw();\n\n    this.on(\"drop\", this.onDrop.bind(this));\n\n    this.interactive = true;\n    this.cursor = \"auto\";\n    this.on(\"mousedragover\", this.onDragOver.bind(this));\n    this.on(\"mousedragout\", this.onDragOut.bind(this));\n    this.on(\"pointertap\", this.maybeSpawn.bind(this));\n\n    this.addChild(this.bkgGraphics);\n  }\n\n  set highlightColor(c: number) {\n    this._highlightColor = c;\n    if(this.state == InstrumentState.CUE_READY) {\n      this.color = this._highlightColor;\n      this.needDraw = true;\n    }\n  }\n\n  set color(c: number) {\n    if(this.currentColor !== c) {\n      this.currentColor = c;\n      this.needDraw = true;\n    }\n  }\n\n  set outlineThickness(t: number) {\n    if(this._outlineThickness !== t) {\n      this._outlineThickness = t;\n      this.needDraw = true;\n    }\n  }\n\n  multiplierResize(multiplier: number) {\n    this.scale.set(multiplier,multiplier);\n\n    const bkgBounds = this.bkgGraphics.getLocalBounds();\n    this.mCenterPoint.set(bkgBounds.x + bkgBounds.width / 2, bkgBounds.y + bkgBounds.height / 2  - DRAGGABLE_RADIUS);\n  }\n\n  maybeSpawn(e: InteractionEvent) {\n    if(this.state === InstrumentState.CUE_READY && PerformanceState.dragSpawn.draggingObject) {\n      this.onDrop(PerformanceState.dragSpawn.draggingObject);\n    }\n  }\n\n  onDrop(dragging: Draggable, e?: InteractionEvent) {\n    if(this.state === InstrumentState.CUE_READY && !this.draggables.length) {\n      const thisGlobPosition = this.getGlobalPosition();\n      const dragParentGlobal = dragging.parent.getGlobalPosition();\n      const dragParentOffset = new Point((dragParentGlobal.x - thisGlobPosition.x) / this.scale.x, (dragParentGlobal.y - thisGlobPosition.y) / this.scale.y);\n      dragging.adopt(this);\n      this.draggables.push(dragging);\n      dragging.on(\"destroy\", () => {\n        const f = this.draggables.findIndex((d) => d === dragging);\n        this.draggables.splice(f, 1);\n        dragging.abandon();\n      });\n      this.setState(InstrumentState.CUED);\n      this.indicatorStartPoint.copyFrom(dragging.position);\n\n      this.indicatorEndPoint.x = this.mCenterPoint.x - dragParentOffset.x;\n      this.indicatorEndPoint.y = this.mCenterPoint.y - dragParentOffset.y;\n    }\n  }\n\n  setState(newState: InstrumentState, value?: any) {\n    if(newState === this.state) return;\n\n    switch (newState) {\n      case InstrumentState.CUED:\n        this.stateFadeTime = 1.0;\n        this.cursor = \"auto\";\n        //this.color = this.idleColor;\n        this.outlineThickness = 4;\n        if(this.nextCueSprite && this.draggables.length) {\n          this.draggables[0].setIcon(this.nextCueSprite);\n        }\n        break;\n\n      case InstrumentState.CUE_READY:\n        this.stateFadeTime = 1.0;\n        this.cursor = \"pointer\";\n        this.color = this._highlightColor;\n        this.outlineThickness = 0;\n        if(typeof value === 'string') {\n          this.nextCueSprite = Sprite.from(value);\n        }\n        break;\n\n      case InstrumentState.HIT:\n        this.stateFadeTime = 0.5;\n        this.cursor = \"auto\";\n        //this.color = this.idleColor;\n        this.outlineThickness = 0;\n        if(this.state === InstrumentState.CUED){\n          newState = InstrumentState.HIT_SUCCESS;\n          this.stateFadeTime = 0.1;\n        }\n        if(this.draggables.length) {\n          if(value && typeof value === \"object\" && value.length) {\n            this.draggables[0].setVisualCues(value);\n          } else {\n            this.draggables[0].setState(DraggableState.SHRINK_OUT, 0.5);\n          }\n        }\n        break;\n\n      default:\n        //this.color = this.idleColor;\n        this.cursor = \"auto\";\n        this.outlineThickness = 0;\n        this.stateFadeTime = 1;\n    }\n    this.stateFade = 0;\n    this.state = newState;\n    this.stateValue = value;\n  }\n\n  onTick(currentBeat: number, deltaBeat: number) {\n    super.onTick(currentBeat, deltaBeat);\n\n    this.draggables.forEach((d) => d.onTick(currentBeat, deltaBeat));\n\n    if(this.state === InstrumentState.CUE_READY) {\n      if(this.stateFade >= 1) {\n        this.alpha = 1;\n      } else {\n        this.alpha = this.stateFade;\n      }\n    }\n\n    if(this.state === InstrumentState.CUE_READY && this.dragHover) {\n      this.outlineThickness = 2;\n    } else if(this.state === InstrumentState.CUE_READY) {\n      this.outlineThickness = 0;\n    }\n\n    if(this.state === InstrumentState.HIT || this.state === InstrumentState.HIT_SUCCESS) {\n      if(this.stateFade >= 1) {\n        this.alpha = 0;\n        this.setState(InstrumentState.IDLE);\n      } else {\n        this.alpha = 1 - this.stateFade;\n      }\n    }\n\n    if(this.state === InstrumentState.CUED) {\n      if(this.stateFade < 1) {\n        this.indicatorPoint.copyFrom(powLerpPoint(this.indicatorStartPoint, this.indicatorEndPoint, this.stateFade, 0.1));\n      } else {\n        this.indicatorPoint.copyFrom(this.indicatorEndPoint);\n      }\n      if(this.draggables[0]) {\n        this.draggables[0].position.copyFrom(this.indicatorPoint);\n      }\n      //this.indicatorGraphics.position.set(this.mCenterPoint.x + this.indicatorPoint.x, this.mCenterPoint.y + this.indicatorPoint.y);\n    } else if (this.state === InstrumentState.HIT_SUCCESS) {\n      //\n    } else {\n      //\n    }\n\n    if(this.needDraw) {\n      this.draw();\n    }\n  }\n\n\n  draw() {\n    this.needDraw = false;\n    this.bkgGraphics.clear().beginFill(this.currentColor, 1);\n    if(this._outlineThickness) {\n      // outlines have issues\n      // this.bkgGraphics.lineStyle(this._outlineThickness, 0xffffff, 1, 0);\n    }\n    this.graphicsDraw.apply(this.bkgGraphics);\n    this.bkgGraphics.endFill();\n  }\n}","import { Container, InteractionEvent } from \"pixi.js\";\n\nexport abstract class Interactive extends Container {\n  // beat, state, value\n  cues: Array<[number, number, number]> = [];\n  name: string = \"\";\n  protected stateFade = 0;\n  protected stateFadeTime = 1;\n  protected dragHover: boolean = false;\n  abstract multiplierResize(multiplier: number): void;\n  abstract setState(newState: number, value: number): void;\n  protected currentBeat: number;\n\n  onCue(cue: number, state: number, value: number) {\n    this.setState(state, value);\n  }\n\n  onDragOver(e: InteractionEvent) {\n    this.dragHover = true;\n  }\n\n  onDragOut(e: InteractionEvent) {\n    this.dragHover = false;\n  }\n\n  onTick(currentBeat: number, deltaBeat: number) {\n    this.currentBeat = currentBeat;\n    if(this.stateFade < 1) {\n      this.stateFade += this.stateFadeTime * deltaBeat;\n      if(this.stateFade > 1) {\n        this.stateFade = 1;\n      }\n    }\n  }\n\n  constructor() {\n    super();\n  }\n\n}","import { Point } from \"pixi.js\";\n\nexport function linearLerp(from: number, to: number, t: number): number {\n  return from + (to - from) * t;\n}\n\nexport function linearLerpPoint(from: Point, to: Point, t: number): Point {\n  return new Point(from.x + (to.x - from.x) * t, from.y + (to.y - from.y) * t);\n}\n\nexport function powLerp(from: number, to: number, t: number, pow: number): number {\n  const t2 = Math.pow(t, pow);\n  return from + (to - from) * t2;\n}\n\nexport function powLerpPoint(from: Point, to: Point, t: number, pow: number): Point {\n  const t2 = Math.pow(t, pow);\n  return new Point(from.x + (to.x - from.x) * t2, from.y + (to.y - from.y) * t2);\n}","import './css/styles.css';\nimport { Application, Graphics } from 'pixi.js';\nimport TWEEN from '@tweenjs/tween.js';\nimport { loadFonts } from './styles';\nimport { StateMachine } from './state-machine';\nimport navLinks from './nav-links.json';\n\nwindow.onload = async () => {\n\n  await Promise.all([\n    loadFonts(),\n  ]);\n\n  const app = new Application({\n    antialias: true,\n    transparent: false,\n    autoDensity: true,\n    resolution: window.devicePixelRatio, // TODO: auto\n    resizeTo: window,\n    backgroundColor: 0x000000,\n  });\n\n  document.body.appendChild(app.view);\n\n  const footer = document.createElement('nav');\n  const links = Object.entries(navLinks).map(([label, url]) => {\n    const a = document.createElement('a');\n    a.setAttribute('href', url);\n    a.setAttribute('title', url.replace(/^.*:\\/\\//,'').replace(/^mailto:/,''));\n    a.innerText = label;\n    return a;\n  });\n  links.forEach((link) => footer.appendChild(link));\n  document.body.appendChild(footer);\n\n  // @TODO - this is necessary to prevent black screens on video playback\n  // const bigPlayButton = new Graphics();\n  // bigPlayButton\n  //   .beginFill(0xff0000)\n  //   .drawRect(0,0,256,32)\n  //   .endFill()\n  // bigPlayButton.interactive = true;\n  // app.stage.addChild(bigPlayButton);\n\n  // bigPlayButton.on(\"pointertap\", async () => {\n  //   app.stage.removeChild(bigPlayButton);\n    const stateManager = new StateMachine(app);\n  //});\n\n\n  // @TODO - replace this with app.ticker.add?\n  // function animate(time: number) {\n  //   requestAnimationFrame(animate);\n  //   TWEEN.update(time);\n  // }\n  // requestAnimationFrame(animate);\n};","import { Emitter } from \"pixi-particles\"\nimport { settings } from \"pixi.js\";\n\nexport default class OnDemandEmitter extends Emitter {\n  constructor(...args: any) {\n    // @ts-ignore\n    super(...args);\n  }\n\n  update(delta: number) {\n    if (this._autoUpdate) {\n      delta = delta / settings.TARGET_FPMS / 1000;\n    }\n\n    //if we don't have a parent to add particles to, then don't do anything.\n    //this also works as a isDestroyed check\n    if (!this._parent) return;\n    //update existing particles\n    let particle, next;\n    for (particle = this._activeParticlesFirst; particle; particle = next) {\n      next = particle.next;\n      particle.update(delta);\n    }\n\n\n    if (this._emit) {\n      //determine if the emitter should stop spawning\n      if (this._emitterLife > 0) {\n        this._emitterLife -= delta;\n        if (this._emitterLife <= 0) {\n          this._emitterLife = 0;\n          this.emit = false;\n        }\n      }\n    }\n\n    if (this._posChanged) {\n      //store current position of the emitter as local variables\n      this._prevEmitterPos.x = this.ownerPos.x + this.spawnPos.x;\n      this._prevEmitterPos.y = this.ownerPos.y + this.spawnPos.y;\n      this._prevPosIsValid = true;\n      this._posChanged = false;\n    }\n\n    //if we are all done and should destroy ourselves, take care of that\n    if (!this._emit && !this._activeParticlesFirst) {\n      if (this._completeCallback) {\n        const cb = this._completeCallback;\n        // @ts-ignore: inherited pixi library does not use strict null check\n        this._completeCallback = null;\n        cb();\n      }\n      if (this._destroyWhenComplete) {\n        this.destroy();\n      }\n    }\n  }\n\n  spawn(amount:number = 1, timePassed:number = 0, whichArt:number = -1) {\n\n    if (!this._emit) {\n      return;\n    }\n\n    // determine if we have hit the particle limit\n    if (this.particleCount >= this.maxParticles) {\n      // Let's kill the oldest to make room for the newest\n      // @TODO when amount > 1, maybe kill more?\n      this._activeParticlesFirst.kill();\n    }\n\n    //determine the particle lifetime\n    let lifetime;\n    if (this.minLifetime == this.maxLifetime) {\n      lifetime = this.minLifetime;\n    } else {\n      lifetime = Math.random() * (this.maxLifetime - this.minLifetime) + this.minLifetime;\n    }\n\n    //only make the particle if it wouldn't immediately destroy itself\n    if (timePassed < lifetime) {\n      //create enough particles (amount or up to max)\n      let i = 0;\n      for (let len = Math.min(amount, this.maxParticles - this.particleCount); i < len; ++i) {\n        //see if we actually spawn one\n        if (this.spawnChance < 1 && Math.random() >= this.spawnChance)\n          continue;\n        //create particle\n        let p;\n        if (this._poolFirst) {\n          p = this._poolFirst;\n          this._poolFirst = this._poolFirst.next;\n          // @ts-ignore: inherited pixi library does not use strict null check\n          p.next = null;\n        } else {\n          p = new this.particleConstructor(this);\n        }\n\n        //set a random texture if we have more than one\n        if (this.particleImages.length > 1) {\n          // if using ordered art\n          if(whichArt !== -1) {\n            // get current art index, then increment for the next particle\n            p.applyArt(this.particleImages[whichArt]);\n          } else if (this._currentImageIndex !== -1) {\n            // get current art index, then increment for the next particle\n            p.applyArt(this.particleImages[this._currentImageIndex++]);\n            // loop around if needed\n            if (this._currentImageIndex < 0 || this._currentImageIndex >= this.particleImages.length) {\n              this._currentImageIndex = 0;\n            }\n          } else {\n            // otherwise grab a random one\n            p.applyArt(this.particleImages[Math.floor(Math.random() * this.particleImages.length)]);\n          }\n\n        } else {\n          //if they are actually the same texture, a standard particle\n          //will quit early from the texture setting in setTexture().\n          p.applyArt(this.particleImages[0]);\n        }\n        //set up the start and end values\n        p.alphaList.reset(this.startAlpha);\n        if (this.minimumSpeedMultiplier != 1) {\n          p.speedMultiplier = Math.random() * (1 - this.minimumSpeedMultiplier) + this.minimumSpeedMultiplier;\n        }\n        p.speedList.reset(this.startSpeed);\n        p.acceleration.x = this.acceleration.x;\n        p.acceleration.y = this.acceleration.y;\n        p.maxSpeed = this.maxSpeed;\n        if (this.minimumScaleMultiplier != 1) {\n          p.scaleMultiplier = Math.random() * (1 - this.minimumScaleMultiplier) + this.minimumScaleMultiplier;\n        }\n        p.scaleList.reset(this.startScale);\n        p.colorList.reset(this.startColor);\n        //randomize the rotation speed\n        if (this.minRotationSpeed == this.maxRotationSpeed)\n          p.rotationSpeed = this.minRotationSpeed;\n        else\n          p.rotationSpeed = Math.random() * (this.maxRotationSpeed - this.minRotationSpeed) + this.minRotationSpeed;\n        p.rotationAcceleration = this.rotationAcceleration;\n        p.noRotation = this.noRotation;\n        //set up the lifetime\n        p.maxLife = lifetime;\n        //set the blend mode\n        p.blendMode = this.particleBlendMode;\n        //set the custom ease, if any\n        p.ease = this.customEase;\n        //set the extra data, if any\n        p.extraData = this.extraData;\n        //set additional properties to particle\n        this.applyAdditionalProperties(p);\n        //call the proper function to handle rotation and position of particle\n        this._spawnFunc(p, this._prevEmitterPos.x, this._prevEmitterPos.y, i);\n        //initialize particle\n        p.init();\n        //update the particle by the time passed, so the particles are spread out properly\n        p.update(timePassed);//we want a positive delta, because a negative delta messes things up\n        //add the particle to the display list\n        if (!p.parent) {\n          if (this.addAtBack)\n            this._parent.addChildAt(p, 0);\n          else\n            this._parent.addChild(p);\n        } else {\n          //kind of hacky, but performance friendly\n          //shuffle children to correct place\n          let children = this._parent.children;\n          //avoid using splice if possible\n          if (children[0] == p)\n            children.shift();\n          else if (children[children.length - 1] == p)\n            children.pop();\n          else {\n            let index = children.indexOf(p);\n            children.splice(index, 1);\n          }\n          if (this.addAtBack)\n            children.unshift(p);\n          else\n            children.push(p);\n        }\n        //add particle to list of active particles\n        if (this._activeParticlesLast) {\n          this._activeParticlesLast.next = p;\n          p.prev = this._activeParticlesLast;\n          this._activeParticlesLast = p;\n        } else {\n          this._activeParticlesLast = this._activeParticlesFirst = p;\n        }\n        ++this.particleCount;\n      }\n    }\n  }\n}","import { Container, Application, Point, Sprite, InteractionEvent } from \"pixi.js\";\nimport ClickTrack from 'click-track';\nimport State from \"./state\";\nimport { InteractiveInstrument } from \"./interactive-instrument\";\nimport { DraggableSpawn } from \"./draggable-spawn\";\nimport { Interactive } from \"./interactive\";\nimport mainTrack from \"./tracks/main/\";\nimport { CueEvent } from \"click-track/dist/src/definitions/cue-event\";\nimport { Emitter } from \"pixi-particles\";\nimport { ParticleCue } from \"./types/particle-cue\";\nimport { Draggable } from \"./draggable\";\nimport { PerformanceVideoPlayer } from \"./performance-video-player\";\nimport ProgressBar from \"./progress-bar\";\nimport GradientBackdrop from \"./gradient-backdrop\";\nimport { parts } from './tracks/main/score-export.json';\nimport stageImage from '../assets/images/instrumentsection-2.svg';\nimport { COLOR_BOOKSTORE_HIGHLIGHT, COLOR_BUS_HIGHLIGHT, COLOR_DESERT_HIGHLIGHT, COLOR_FOREST_HIGHLIGHT, COLOR_LAKE_HIGHLIGHT, COLOR_MOUNTAIN_HIGHLIGHT, COLOR_RECAP_HIGHLIGHT, COLOR_HALL_HIGHLIGHT } from \"./colors\";\n\n\ntype InteractiveCue = [Interactive, number, any];\n\nexport default class PerformanceState extends State {\n\n  protected track: HTMLAudioElement;\n  protected bkgVideo: PerformanceVideoPlayer;\n  protected interactives: Array<Interactive>;\n  private app: Application;\n  static clickTrack: ClickTrack<InteractiveCue>;\n  private clickTrackParticles: ClickTrack<ParticleCue>;\n  private interactivesContainer: Container;\n  private particleContainer: Container;\n  private emitters: Array<Emitter> = [];\n  protected intendedStageSize: [number, number];\n  protected centerStage: [number, number];\n  protected loadProgressbar: ProgressBar;\n  protected stageInteractiveBackground: Sprite = Sprite.from(stageImage);\n\n  // DIY interaction management\n  private interactiveHovering?: Interactive;\n  private mousePos: Point;\n  private mouseChecked: boolean = true;\n  static dragSpawn: DraggableSpawn = new DraggableSpawn();\n  protected bkg = new GradientBackdrop();\n\n  async createContainer(app: Application): Promise<Container> {\n    this.app = app;\n\n    // The container to be returned\n    const container = new Container();\n\n    container.addChild(this.bkg);\n    this.bkg.colorA = [0,0,0];\n    this.bkg.colorB = [0,0,0];\n\n    this.bkg.position.set(0,0);\n\n\n    // Get music track information\n    const {\n      interactives,\n      trackUrl,\n      tempo,\n      offset,\n      particleCues,\n      stageSize,\n      stageCenter,\n    } = mainTrack();\n\n    app.renderer.backgroundColor = 0x000000;\n\n    this.intendedStageSize = [stageSize[0] + 250, (stageSize[1] + 416)];\n    this.centerStage = stageCenter;\n\n    this.bkgVideo = new PerformanceVideoPlayer(trackUrl, stageSize[0] + 250);\n    this.bkgVideo.alpha = 0;\n    container.addChild(this.bkgVideo);\n    this.bkgVideo.position.set(0,0);\n\n    // Assemble interactive things\n    this.interactivesContainer = new Container();\n    this.interactivesContainer.alpha = 0;\n    container.addChild(this.interactivesContainer);\n    this.interactivesContainer.position.set(window.innerWidth / 2, window.innerHeight * 3 / 4);\n\n    // DIY interaction management\n    this.interactivesContainer.interactive = true;\n    this.interactivesContainer.on(\"mousemove\", this.onMove.bind(this));\n\n    this.interactives = interactives;\n\n    this.interactivesContainer.addChild(this.stageInteractiveBackground);\n\n    this.interactives.forEach((s1) => {\n      s1.interactive = true;\n      this.interactivesContainer.addChild(s1);\n    });\n\n    // Origin set is handled in resize\n    PerformanceState.dragSpawn.alpha = 0;\n    container.addChild(PerformanceState.dragSpawn);\n    PerformanceState.dragSpawn.on(\"dragged\", this.onCircleDrag.bind(this));\n    interactives.push(PerformanceState.dragSpawn);\n\n    // Assemble cues\n    const cues: Array<[number, InteractiveCue]> = [];\n\n    // Combine cues from all interactives\n    interactives.forEach((ii) => {\n      cues.push(...ii.cues.map<[number, InteractiveCue]>((cue) => [cue[0], [ii, cue[1], cue[2]]]));\n    });\n\n    // Sort all cues ascending\n    cues.sort((a, b) => Math.sign(a[0] - b[0]));\n\n    // Click track for syncing up\n    PerformanceState.clickTrack = new ClickTrack<InteractiveCue>({\n      timerSource: () => {\n        try {\n          return this.bkgVideo.currentTime\n        } catch {\n          return 0;\n        }\n      },\n      tempo,\n      offset,\n      cues: cues\n    });\n\n    PerformanceState.clickTrack.on(\"cue\", this.handleClickCue.bind(this));\n\n    const biomeClickTrack = new ClickTrack<string>({\n      timerSource: PerformanceState.clickTrack.timer,\n      tempo,\n      offset,\n      cues: parts.P37.notes\n        .filter(({ words = '' }) => /\\(.+\\)/.test(words))\n        .map(({ note, words = '' }) => {\n          const [,biome = ''] = words.match(/\\(([^\\)]+)\\)/) || [,''];\n          return [note, biome.toLowerCase()];\n        })\n    });\n\n    const bkgVideoClicktrack = new ClickTrack<[[number,number,number],[number,number,number]]>({\n      timerSource: PerformanceState.clickTrack.timer,\n      cues: [\n        [0.1,\n         [[43,43,42],[83,81,76]]\n        ],\n        [5.0,\n         [[30,21,15],[3,4,6]]\n        ],\n        [6.0,\n         [[30,17,12],[19,11,9]]\n        ],\n        [12.0,\n         [[3,5,6],[15,10,8]]\n        ],\n        [15.0,\n         [[38,27,17],[6,9,9]]\n        ],\n        [17.0,\n         [[54,41,31],[2,6,4]]\n        ],\n        [25.0,\n         [[18,19,16],[4,8,8]]\n        ],\n        [32.5,\n         [[4,8,8], [95,98,95]]\n        ],\n        [40.8,\n         [[29,27,24],[7,5,3]]\n        ],\n        [49.0,\n         [[25,24,22],[2,7,7]]\n        ],\n        [56.0,\n         [[7,5,3],[29,27,24]]\n        ],\n        [66.0,\n         [[7,5,3],[7,5,3]]\n        ],\n        [67.0,\n         [[7,5,3],[7,5,3]]\n        ],\n       ]\n    });\n\n    biomeClickTrack.on(\"cue\", (ct, e) => {\n      if(e.data !== null) {\n        this.bkg.biomeTheme = e.data;\n        this.interactives.forEach((i) => {\n          if(i instanceof InteractiveInstrument) {\n            switch (e.data) {\n              case \"bookstore\":\n                i.highlightColor = COLOR_BOOKSTORE_HIGHLIGHT;\n                break;\n\n              case \"bus\":\n                i.highlightColor = COLOR_BUS_HIGHLIGHT;\n                break;\n\n              case \"desert\":\n                i.highlightColor = COLOR_DESERT_HIGHLIGHT;\n                break;\n\n              case \"forest\":\n                i.highlightColor = COLOR_FOREST_HIGHLIGHT;\n                break;\n\n              case \"lake\":\n                i.highlightColor = COLOR_LAKE_HIGHLIGHT;\n                break;\n\n              case \"mountain\":\n                i.highlightColor = COLOR_MOUNTAIN_HIGHLIGHT;\n                break;\n\n              case \"recap\":\n                i.highlightColor = COLOR_RECAP_HIGHLIGHT;\n                break;\n\n              case \"hall\":\n              default:\n                i.highlightColor = COLOR_HALL_HIGHLIGHT;\n                break;\n            }\n          };\n        });\n      }\n    });\n\n    const closingClicktrack = new ClickTrack<() => void>({\n      timerSource: PerformanceState.clickTrack.timer,\n      cues: [\n        [356,\n         () => {\n          this.interactivesContainer.alpha = 0;\n          PerformanceState.dragSpawn.alpha = 0;\n          this.bkgVideo.theaterMode = false;\n          this.bkg.colorA = [0,0,0];\n          this.bkg.colorB = [0,0,0];\n         }\n        ],\n       ]\n    });\n\n    closingClicktrack.on(\"cue\", (e, {data}) => data && data());\n\n    bkgVideoClicktrack.on(\"cue\", (ct, e) => {\n      if(e.data !== null) {\n        this.bkg.colorA = <[number,number,number]>e.data[0].map(d => d/100);\n        this.bkg.colorB = <[number,number,number]>e.data[1].map(d => d/100);\n      }\n    });\n\n    bkgVideoClicktrack.on(\"lastCue\", () => {\n      this.interactivesContainer.alpha = 1;\n      PerformanceState.dragSpawn.alpha = 1;\n      this.bkgVideo.theaterMode = true;\n      this.bkgVideo.canInteract = false;\n      this.bkgVideo.pause();\n      PerformanceState.dragSpawn.on('firstDrag', () => {\n        this.bkgVideo.resume();\n        this.bkgVideo.canInteract = true; // TEMP\n      });\n    });\n\n    // Sort all cues ascending\n    particleCues.sort((a, b) => Math.sign(a[0] - b[0]));\n\n    // this.clickTrackParticles = new ClickTrack<ParticleCue>({\n    //   timerSource: () => track.currentTime,\n    //   tempo,\n    //   offset,\n    //   cues: particleCues\n    // });\n\n    //this.clickTrackParticles.on(\"cue\", this.handleParticleCue.bind(this));\n\n    //this.particleContainer = new Container();\n    // SVG group size: 828 131.65\n    // Set instrument position to SVG group center\n    // @TODO put this in one spot\n    //this.particleContainer.position.set(window.innerWidth / 2 - 414, window.innerHeight * 3 / 4 -131.65);\n    //container.addChild(this.particleContainer);\n\n    this.loadProgressbar = new ProgressBar();\n    container.addChild(this.loadProgressbar);\n    this.loadProgressbar.position.set(window.innerWidth/2, window.innerHeight/2);\n    const loadIntervalCheck = setInterval(() => {\n      this.loadProgressbar.progress = this.bkgVideo.percentLoaded;\n    }, 200);\n\n    const loadPromise = new Promise(async (resolve, reject) => {\n      await new Promise((resolve, reject) => {\n        const loadTimeout = setTimeout(() => {\n          // Timeout error?\n          console.log(\"This is taking a while to load...\");\n        }, 5000);\n        this.bkgVideo.preload().then(() => {\n\n\n          clearTimeout(loadTimeout);\n          resolve();\n        });\n      });\n      this.onResize({width: window.innerWidth, height: window.innerHeight});\n      resolve();\n      this.bkgVideo.alpha = 1;\n      this.loadProgressbar.progress = 1;\n      clearInterval(loadIntervalCheck);\n      setTimeout(() => {\n        container.removeChild(this.loadProgressbar);\n        this.loadProgressbar.destroy();\n        delete this.loadProgressbar;\n      }, 500);\n    });\n\n\n    this.bkgVideo.on(\"ended\", () => {\n      // shut it down!\n      closingClicktrack.deconstruct();\n      closingClicktrack.deconstruct();\n      bkgVideoClicktrack.deconstruct();\n      PerformanceState.clickTrack.deconstruct();\n      //this.clickTrackParticles.deconstruct();\n      this.events.get(\"complete\").dispatch(this, 1);\n    });\n\n    return container;\n  }\n\n  handleClickCue(clicktrack: ClickTrack, cue: CueEvent<InteractiveCue>) {\n    if(cue.data && cue.data[0]) {\n      const [interactive, state, value] = cue.data;\n      interactive.onCue(cue.cue, state, value);\n    }\n  }\n\n  handleParticleCue(clicktrack: ClickTrack, cue: CueEvent<ParticleCue>) {\n    if(cue.data) {\n      const emitter = new Emitter(\n        this.particleContainer,\n        cue.data[0],\n        {\n          ...cue.data[1],\n          autoUpdate: false,\n        }\n      );\n\n      this.emitters.push(emitter);\n    }\n  }\n\n  onCircleDrag(dragging: Draggable, e: InteractionEvent) {\n    if (this.app) {\n      const i = this.app.renderer.plugins.interaction.hitTest(e.data.global, this.interactivesContainer);\n      if (i && i instanceof InteractiveInstrument) {\n        i.emit(\"mousedragout\", this.mousePos);\n        i.emit(\"drop\", dragging, e);\n      }\n    }\n  }\n\n  onMove(e: InteractionEvent) {\n    this.mousePos = e.data.global;\n    this.mouseChecked = false;\n  }\n\n  onTick(deltaMs: number) {\n\n    this.bkg.onTick(deltaMs);\n\n    if(this.loadProgressbar && this.loadProgressbar.progress < 1) {\n      this.loadProgressbar.onTick(deltaMs);\n      return;\n    };\n\n    const currentBeat = PerformanceState.clickTrack.beat;\n    const beatDelta = (deltaMs / 1000) * PerformanceState.clickTrack.tempo;\n\n    for (let i = 0; i < this.interactives.length; i++) {\n      this.interactives[i].onTick(currentBeat, beatDelta);\n    }\n\n    for (let i = this.emitters.length - 1; i >= 0; i--) {\n      if(this.emitters[i].parent === null) {\n        // remove from array, it's destroyed\n        this.emitters.splice(i, 1);\n        continue;\n      }\n\n      // Perform update using beats\n      this.emitters[i].update(beatDelta);\n    }\n\n\n    // DIY mouse enter/mouse out interaction handling\n    // This is here because while draggin draggables, mouseenter and mouseout events aren't triggered\n    if(PerformanceState.dragSpawn.isDragging && this.app && !this.mouseChecked) {\n      this.mouseChecked = true;\n      const object = this.app.renderer.plugins.interaction.hitTest(this.mousePos, this.interactivesContainer);\n      if (object && object instanceof Interactive) {\n        if(!this.interactiveHovering) {\n          // Mouse enter\n          this.interactiveHovering = object;\n          this.interactiveHovering.emit(\"mousedragover\", this.mousePos);\n        } else if(this.interactiveHovering !== object) {\n          // Mouse enter and out (new object)\n          object.emit(\"mousedragover\", this.mousePos);\n          this.interactiveHovering.emit(\"mousedragout\", this.mousePos);\n          this.interactiveHovering = object;\n        }\n      } else if(this.interactiveHovering) {\n        // mouse out\n        this.interactiveHovering.emit(\"mousedragout\", this.mousePos);\n        this.interactiveHovering = undefined;\n      }\n    }\n  }\n\n  onResize(size: { width: number, height: number }) {\n\n    if(this.loadProgressbar && this.loadProgressbar.progress < 1) {\n      this.loadProgressbar.position.set(size.width/2, size.height/2);\n    }\n\n    let paddTop = 0;\n    if(!document.fullscreen) {\n      const nav = document.getElementsByTagName(\"nav\");\n      if(nav && nav[0]) {\n        const {y,height} = nav[0].getBoundingClientRect();\n        paddTop = y + height;\n      }\n    }\n\n    const multiplier = Math.min(size.width / this.intendedStageSize[0], size.height / this.intendedStageSize[1]);\n    //this.interactivesContainer.scale.set(multiplier, multiplier);\n    this.interactives.forEach((s1) => {\n      s1.multiplierResize(multiplier);\n    });\n\n    this.stageInteractiveBackground.scale.set(multiplier);\n    const bounds = this.interactivesContainer.getBounds();\n\n    this.bkg.multiplierResize(multiplier);\n\n    this.bkgVideo.position.set(0,paddTop);\n    this.bkgVideo.multiplierResize(multiplier);\n\n    const videoBounds = this.bkgVideo.getBounds();\n\n    this.interactivesContainer.position.set(\n      (size.width - bounds.width) / 2,\n      videoBounds.bottom - bounds.height * 0.10);\n\n    PerformanceState.dragSpawn.multiplierResize(multiplier);\n\n    PerformanceState.dragSpawn.setOrigin(\n      this.interactivesContainer.position.x + multiplier * this.centerStage[0],\n      this.interactivesContainer.position.y + multiplier * this.centerStage[1],\n    );\n\n  }\n\n  async cleanUp() {\n\n  }\n\n}","import { VideoPlayer } from \"./video-player\";\nimport { Graphics, Sprite, Loader, Container, Text, SCALE_MODES } from \"pixi.js\";\nimport videoMask from '../assets/images/video-mask.png';\nimport videoMaskFlat from '../assets/images/video-mask-flat.png';\nimport videoBkg from '../assets/images/video-bkg.png';\nimport { TEXT_STYLE_CENSORED } from \"./styles\";\n\nconst STAGE_WIDTH = 787;\nconst LETTERBOX_HEIGHT = 71;\nconst QUAD_CURVE_OFFSET = 175;\nexport class PerformanceVideoPlayer extends VideoPlayer {\n  protected bkgCurtainPad = new Graphics();\n  protected container = new Container();\n  private flatMask: Sprite;\n  private theaterMask: Sprite;\n  private flatMaskBacker: Graphics;\n  protected playButtonSizeRatio: number = 0.05;\n  protected autoplay = false;\n  public canInteract = false;\n  constructor(public videoUrl: string, public width: number = STAGE_WIDTH, public accentColor: number = 0xffffff) {\n    super(videoUrl, width, accentColor);\n  }\n\n  async preload() {\n    await super.preload();\n    const w = this.videoSprite.width;\n    const h = this.videoSprite.height;\n\n    await new Promise((resolve) => {\n      if(Loader.shared.resources[videoMask]) return resolve();\n      Loader.shared.add(videoMask).load(resolve);\n    });\n    await new Promise((resolve) => {\n      if(Loader.shared.resources[videoMaskFlat]) return resolve();\n      Loader.shared.add(videoMaskFlat).load(resolve);\n    });\n    await new Promise((resolve) => {\n      if(Loader.shared.resources[videoBkg]) return resolve();\n      Loader.shared.add(videoBkg).load(resolve);\n    });\n\n    const bkgSprite = Sprite.from(videoBkg);\n    bkgSprite.scale.set(w / (bkgSprite.width));\n    bkgSprite.position.set(0, LETTERBOX_HEIGHT - 1);\n    this.container.addChild(bkgSprite);\n\n    this.flatMask = Sprite.from(videoMaskFlat);\n    this.flatMask.scale.set(w / (this.flatMask.width));\n    this.flatMask.position.set(0,LETTERBOX_HEIGHT);\n\n    this.theaterMask = Sprite.from(videoMask);\n    this.theaterMask.scale.set(w / (this.theaterMask.width));\n    this.theaterMask.position.set(0,LETTERBOX_HEIGHT);\n\n    this.flatMaskBacker = new Graphics();\n    this.flatMaskBacker.clear()\n      .beginFill(0x000000)\n      .drawRect(0,0,this.flatMask.width, this.flatMask.height);\n    this.container.addChild(this.flatMaskBacker);\n    this.flatMaskBacker.position.set(0,LETTERBOX_HEIGHT)\n\n    this.addChild(this.bkgCurtainPad);\n    this.addChild(this.container);\n\n    this.theaterMode = false;\n\n    this.removeChild(this.videoSprite);\n    this.removeChild(this.overlayGraphics);\n    this.container.addChild(this.videoSprite);\n    this.container.addChild(this.overlayGraphics);\n\n    const censoredText = new Text(\"[CENSORED]\", TEXT_STYLE_CENSORED);\n    censoredText.scale.set(16);\n    censoredText.texture.baseTexture.scaleMode = SCALE_MODES.NEAREST;\n    censoredText.anchor.set(0.5);\n    this.container.addChild(censoredText);\n    censoredText.position.set(w/2, h/2);\n\n  }\n\n  set theaterMode(on: boolean) {\n    if(on) {\n      this.container.removeChild(this.flatMask);\n      this.container.addChild(this.theaterMask);\n      this.videoSprite.mask = this.theaterMask;\n      this.flatMaskBacker.visible = false;\n    } else {\n      this.container.removeChild(this.theaterMask);\n      this.container.addChild(this.flatMask);\n      this.videoSprite.mask = this.flatMask;\n      this.flatMaskBacker.visible = true;\n    }\n  }\n\n  multiplierResize(multiplier: number) {\n    if(!this.videoSprite) return;\n    this.container.scale.set(multiplier);\n    this.container.position.y = (-LETTERBOX_HEIGHT) * multiplier;\n    this.container.position.x = (window.innerWidth - this.container.width) / 2;\n\n    this.bkgCurtainPad.position.set(0, 0)\n    this.bkgCurtainPad.clear()\n      .beginFill(0x000000)\n      .drawRect(-(window.innerWidth - this.container.width) / 2, -this.position.y, window.innerWidth, this.position.y)\n      .drawRect(0, this.container.position.y, this.container.position.x, this.container.height - 1 + LETTERBOX_HEIGHT * multiplier)\n      .drawRect(this.container.width + this.container.position.x, this.container.position.y, (window.innerWidth - this.container.width) / 2, this.container.height - 1 + LETTERBOX_HEIGHT * multiplier)\n      .endFill();\n\n  }\n\n}","import { Graphics, Container, Text } from \"pixi.js\";\nimport { TEXT_STYLE_LOADING } from \"./styles\";\n\nconst PROGRESS_BAR_WIDTH = 200;\nconst PROGRESS_BAR_HEIGHT = 30;\n\nexport default class ProgressBar extends Container {\n  private _progress: number = 0;\n  private graphics: Graphics = new Graphics();\n  private needDraw = false;\n  private loadingText = new Text(\"Loading\", TEXT_STYLE_LOADING);\n\n  constructor() {\n    super();\n    this.addChild(this.graphics);\n    this.addChild(this.loadingText);\n    this.loadingText.anchor.set(0.5);\n    this.loadingText.position.set(0,0);\n    this.needDraw = true;\n  }\n\n  set progress(p: number) {\n    this._progress = Math.max(0, Math.min(p, 1));\n    this.needDraw = true;\n  }\n\n  get progress(): number {\n    return this._progress;\n  }\n\n  onTick(deltaMs) {\n    if(this.needDraw) {\n      this.draw();\n    }\n  }\n\n  draw() {\n    this.graphics.clear()\n      .beginFill(0x000000)\n      .drawRect(-window.innerWidth/2, -window.innerHeight/2, window.innerWidth, window.innerHeight)\n      .endFill()\n      .lineStyle(2, 0xffffff)\n      .drawRect(-PROGRESS_BAR_WIDTH/2, -PROGRESS_BAR_HEIGHT/2, PROGRESS_BAR_WIDTH, PROGRESS_BAR_HEIGHT)\n      .beginFill(0xffffff)\n      .drawRect(-PROGRESS_BAR_WIDTH/2, -PROGRESS_BAR_HEIGHT/2, PROGRESS_BAR_WIDTH * this.progress, PROGRESS_BAR_HEIGHT)\n\n    this.needDraw = false;\n  }\n\n}","import { Application, Container } from \"pixi.js\";\nimport State from \"./state\";\nimport { StateEvents } from \"./types/state-events\";\nimport PerformanceState from './performance-state';\nimport TitleState from \"./title-state\";\n\ntype StateNames = \"intro\" | \"performance\";\n\nexport class StateMachine {\n  protected states: Array<{name: string, state: State}> = new Array();\n  protected currentStateName: string;\n  protected currentState: State;\n  protected currentStateContainer: Container;\n  private resizePollInterval = 500;\n  private previousWindowDimensions: {width: number, height: number} = {width: window.innerWidth, height: window.innerHeight};\n  private windowDimensions: {width: number, height: number} = {width: window.innerWidth, height: window.innerHeight};\n\n  constructor(public app: Application) {\n\n    setInterval(this.checkResizeEvent.bind(this), this.resizePollInterval);\n\n    window.addEventListener(\"resize\", () => {\n      this.windowDimensions.width = window.innerWidth;\n      this.windowDimensions.height = window.innerHeight;\n    });\n\n    app.ticker.add(this.tick, this);\n\n    this.addState(\"intro\", new TitleState());\n    this.addState(\"performance\", new PerformanceState());\n    this.addStateCondition(\"intro\", \"complete\", \"performance\");\n    this.addStateCondition(\"performance\", \"complete\", \"intro\");\n\n    this.setState(\"intro\");\n  }\n\n  tick(deltams:number) {\n    if(this.currentState) {\n      this.currentState.onTick(deltams);\n    }\n  }\n\n  checkResizeEvent() {\n    if(this.windowDimensions.height !== this.previousWindowDimensions.height || this.windowDimensions.width !== this.previousWindowDimensions.width) {\n      this.previousWindowDimensions.height = this.windowDimensions.height;\n      this.previousWindowDimensions.width = this.windowDimensions.width;\n      if(this.currentState) {\n        this.currentState.onResize(this.windowDimensions);\n      }\n    }\n  }\n\n  addState(name: StateNames, state: State) {\n    this.states.push({name, state});\n  }\n\n  addStateCondition(triggerState: StateNames, stateEvent: StateEvents, induceState: StateNames) {\n    const stateF = this.states.find(({name}) => name == triggerState);\n    if(!stateF) {\n      throw new Error(`State ${triggerState} unknown`);\n    }\n\n    stateF.state.on(stateEvent, this.setState.bind(this, induceState));\n  }\n\n  async setState(findName: StateNames) {\n    const stateF = this.states.find(({name}) => name == findName);\n    if(!stateF) {\n      throw new Error(`State ${findName} unknown`);\n    }\n    const newContainer = await stateF.state.createContainer(this.app);\n    stateF.state.onResize(this.windowDimensions);\n    if(this.currentState) {\n      await this.currentState.cleanUp();\n    }\n    if(this.currentStateContainer) {\n      this.app.stage.removeChild(this.currentStateContainer);\n      this.currentStateContainer.destroy();\n    }\n    this.app.stage.addChild(newContainer);\n    this.currentStateContainer = newContainer;\n    this.currentStateName = findName;\n    this.currentState = stateF.state;\n  }\n\n}","import { EventList, IEventHandler } from 'ste-events';\nimport { Container, Application } from 'pixi.js';\nimport { StateEvents } from './types/state-events';\n\nexport default abstract class State {\n  protected events = new EventList<State, any>();\n\n  // Adds event listener\n  on(event: StateEvents, fn: IEventHandler<this, any>): void {\n    this.events.get(event).subscribe(fn);\n  }\n\n  // Removes event listener\n  off(event: StateEvents, fn: IEventHandler<this, any>): void {\n    this.events.get(event).unsubscribe(fn);\n  }\n\n  onResize(size: {width: number, height: number}) {\n\n  }\n\n  onTick(deltaMs: number) {\n\n  }\n\n  abstract createContainer(app: Application): Promise<Container>;\n\n  abstract cleanUp(): Promise<void>;\n}","import { TextStyle } from \"pixi.js\";\n\ndeclare global {\n  interface Window {\n    WebFontConfig: object;\n  }\n}\n\nexport async function loadFonts() {\n  await new Promise((resolve) => {\n    // // Load them google fonts before starting...!\n    window.WebFontConfig = {\n      google: {\n        families: ['Roboto:400'],\n      },\n\n      active() {\n        resolve();\n      },\n    };\n\n    /* eslint-disable */\n    // include the web-font loader script\n    (function() {\n      const wf = document.createElement('script');\n      wf.src = `${document.location.protocol === 'https:' ? 'https' : 'http'\n      }://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js`;\n      wf.type = 'text/javascript';\n      wf.async = true;\n      const s = document.getElementsByTagName('script')[0];\n      if(s.parentNode) s.parentNode.insertBefore(wf, s);\n    }());\n    /* eslint-enabled */\n  });\n}\n\nexport const TEXT_STYLE_H1 = new TextStyle({\n  fill: \"#eeeeee\",\n  fontSize: 48,\n  fontFamily: \"Roboto\",\n  fontWeight: '400',\n})\n\nexport const TEXT_STYLE_H1_HOVER = new TextStyle({\n  fill: \"#ffffff\",\n  fontSize: 48,\n  dropShadow: true,\n  dropShadowColor: '#ffffff',\n  dropShadowBlur: 5,\n  dropShadowAngle: 0,\n  dropShadowDistance: 0,\n  fontFamily: \"Roboto\",\n  fontWeight: '400',\n})\n\nexport const TEXT_STYLE_H2 = new TextStyle({\n  fill: \"#ffffff\",\n  fontSize: 24,\n  fontFamily: \"Roboto\",\n  fontWeight: '400',\n})\n\nexport const TEXT_STYLE_INTERACTIVE_NUM = new TextStyle({\n  fill: \"#ffffffaa\",\n  fontSize: 48,\n  fontFamily: \"Roboto\",\n  fontWeight: '400',\n})\n\nexport const TEXT_STYLE_CENSORED = new TextStyle({\n  fill: \"#ffffff\",\n  fontFamily: \"Mono\",\n  wordWrap: true,\n  fontSize: 8,\n  fontWeight: 'bold'\n})\n\nexport const TEXT_STYLE_LOADING = new TextStyle({\n  fill: \"#ffffff\",\n  fontFamily: \"Mono\",\n  wordWrap: true,\n  fontSize: 18,\n})\n\nexport const TEXT_STYLE_BIO_P = new TextStyle({\n  fill: \"#ffffff\",\n  fontFamily: \"Roboto\",\n  fontWeight: '400',\n  wordWrap: true,\n  wordWrapWidth: 400,\n  fontSize: 12,\n})\n\nexport const TET_STYLE_BIO_SUBTITLE = new TextStyle({\n  fill: \"#EF7700\",\n  fontFamily: \"Roboto\",\n  fontWeight: '400',\n  fontSize: 12,\n});","import { Container, Application, Text, Sprite, BLEND_MODES } from \"pixi.js\";\nimport State from \"./state\";\nimport { TEXT_STYLE_H1, TEXT_STYLE_H1_HOVER } from \"./styles\";\nimport logoUrl from '../assets/images/logo.png';\nimport titleBkgUrl from '../assets/images/title-bkg.jpg';\n\nexport default class TitleState extends State {\n  private playButton: Text;\n  private logo: Sprite;\n  private bkg: Sprite;\n  async createContainer(app: Application): Promise<Container> {\n\n    const container = new Container();\n\n    this.bkg = Sprite.from(titleBkgUrl);\n    this.bkg.alpha = 0.5\n    this.bkg.anchor.set(0.5, 0.5);\n    this.logo = Sprite.from(logoUrl);\n    this.logo.anchor.set(0.5, 1);\n\n    container.addChild(this.bkg);\n    container.addChild(this.logo);\n\n    this.playButton = new Text(\"PLAY\", TEXT_STYLE_H1);\n    this.playButton.anchor.set(0.5);\n    this.playButton.interactive = true;\n    this.playButton.cursor = \"pointer\";\n    this.playButton.on(\"mouseover\", () => {\n      //app.renderer.backgroundColor = 0x111111;\n      this.playButton.style = TEXT_STYLE_H1_HOVER;\n    });\n    this.playButton.on(\"mouseout\", () => {\n      app.renderer.backgroundColor = 0x000000;\n      this.playButton.style = TEXT_STYLE_H1 ;\n    });\n    this.playButton.on(\"pointertap\", () => {\n      try {\n        app.view.requestFullscreen();\n      } finally {\n        this.events.get(\"complete\").dispatch(this, 1);\n      }\n    });\n    container.addChild(this.playButton);\n\n    app.renderer.backgroundColor = 0x000000;\n\n    return container;\n  }\n\n  onResize(size: {width: number, height: number}) {\n    const scale = Math.min(1, size.width / 1529);\n    this.logo.scale.set(scale);\n    this.logo.position.set(size.width/2, size.height/2 - 10 * scale);\n    this.bkg.scale.set(scale);\n    this.bkg.position.set(size.width/2, size.height/2);\n    this.playButton.scale.set(scale);\n    this.playButton.position.set(size.width/2, size.height/2 + 50 * scale);\n  }\n\n  async cleanUp() {\n\n  }\n\n}","import { InteractiveInstrument } from \"../../interactive-instrument\";\nimport { interactives } from \"./track-interactives\";\n//import { particles } from './track-particles';\nimport { InteractiveTrack } from \"../../types/interactive-track\";\nimport fullSong from '../../../assets/video/film-censored.mp4';\n\nexport default function (): InteractiveTrack {\n  return {\n    interactives: interactives.map((i) => {\n      const o = new InteractiveInstrument(i.color, i.graphicsPath);\n      o.cues = i.cues;\n      o.name = i.name;\n      return o;\n    }),\n    stageSize: [787, 203],\n    stageCenter: [787 / 2, 203],\n    particleCues: [],//particles,\n    trackUrl: fullSong,\n    tempo: 148,\n    offset: 66.440 - 4.917 - 0.202, // start of violin, and 4.917 is \"magic number\"\n  }\n}\n","import { InstrumentState } from \"../../interactive-instrument\";\n\nimport bassGraphics from '../../../assets/images/instrumentsection.svg?path=path#bass&svg-path-as-graphics';\nimport brassGraphics from '../../../assets/images/instrumentsection.svg?path=path#brass&svg-path-as-graphics';\nimport celloGraphics from '../../../assets/images/instrumentsection.svg?path=path#cello&svg-path-as-graphics';\nimport harpGraphics from '../../../assets/images/instrumentsection.svg?path=path#harp&svg-path-as-graphics';\nimport hornGraphics from '../../../assets/images/instrumentsection.svg?path=path#horn&svg-path-as-graphics';\nimport percussionGraphics from '../../../assets/images/instrumentsection.svg?path=path#percussion&svg-path-as-graphics';\nimport pianoGraphics from '../../../assets/images/instrumentsection.svg?path=path#piano&svg-path-as-graphics';\nimport violaGraphics from '../../../assets/images/instrumentsection.svg?path=path#viola&svg-path-as-graphics';\nimport violin_1Graphics from '../../../assets/images/instrumentsection.svg?path=path#violin-1&svg-path-as-graphics';\nimport violin_2Graphics from '../../../assets/images/instrumentsection.svg?path=path#violin-2&svg-path-as-graphics';\nimport woodwindGraphics from '../../../assets/images/instrumentsection.svg?path=path#woodwind&svg-path-as-graphics';\nimport { parts } from './score-export.json';\n\nimport bassIcon from '../../../assets/images/instrument-icons/insicon_bass.svg';\nimport brassIcon from '../../../assets/images/instrument-icons/insicon_brass.svg';\nimport celloIcon from '../../../assets/images/instrument-icons/insicon_cello.svg';\nimport choirIcon from '../../../assets/images/instrument-icons/insicon_choir.svg';\nimport clarinetIcon from '../../../assets/images/instrument-icons/insicon_clarinet.svg';\nimport cymbalsIcon from '../../../assets/images/instrument-icons/insicon_cymbals.svg';\nimport fluteIcon from '../../../assets/images/instrument-icons/insicon_flute.svg';\nimport gongIcon from '../../../assets/images/instrument-icons/insicon_gong.svg';\nimport harpIcon from '../../../assets/images/instrument-icons/insicon_harp.svg';\nimport hornIcon from '../../../assets/images/instrument-icons/insicon_horn.svg';\nimport keyboardIcon from '../../../assets/images/instrument-icons/insicon_keyboard.svg';\nimport oboeIcon from '../../../assets/images/instrument-icons/insicon_oboe.svg';\nimport percussionsectionIcon from '../../../assets/images/instrument-icons/insicon_percussionsection.svg';\nimport stringIcon from '../../../assets/images/instrument-icons/insicon_string.svg';\nimport synthIcon from '../../../assets/images/instrument-icons/insicon_synth.svg';\nimport tamtamIcon from '../../../assets/images/instrument-icons/insicon_tamtam.svg';\nimport timpaniIcon from '../../../assets/images/instrument-icons/insicon_timpani.svg';\nimport trumpetIcon from '../../../assets/images/instrument-icons/insicon_trumpet.svg';\nimport woodwindIcon from '../../../assets/images/instrument-icons/insicon_woodwind.svg';\n\n// P1: Flute 1, 2\n// P2: Oboe\n// P3: English Horn (Optional)\n// P4: Clarinet in Bb 1, 2\n// P5: Bass Clarinet\n// P6: Bassoon 1, 2\n// P7: Contrabassoon (Optional)\n// P8: Horn in F 1, 2\n// P9: Horn in F 3 (&amp; 4)\n// P10: Trumpet in Bb 1, 2\n// P11: Trumpet in Bb 3\n// P12: Trombone\n// P13: Bass Trombone\n// P14: Cimbasso (sub. Tuba or C.B Trombone)\n// P15: Timpani\n// P16: Cymbals\n// P17: Tamtam\n// P18: Electric Piano (Pre-Record)\n// P19: Piano (Optional)\n// P20: Celesta (Optioanl)\n// P21: Harp\n// P22: Soprano (Optional)\n// P23: Alto (Optional)\n// P24: Solo Violin I\n// P25: Solo  Violin II\n// P26: Solo Viola\n// P27: Solo Cello\n// P28: Violin I\n// P29: Violin 1 DIV\n// P30: Violin II\n// P31: Violin II DIV\n// P32: Viola\n// P33: Viola DIV\n// P34: Cello\n// P35: Cello DIV\n// P36: Double Bass\n\nfunction m2b(measure: number, beat: number): number {\n  return (measure - 1) * 6 + (beat - 1)\n}\n\nfunction countdown(cueAt: number, countIn: number, spriteUrl: string, playNotes: number[]): Array<[number, InstrumentState, any]> {\n  const cues: Array<[number, InstrumentState, any]> = [];\n  cues.push([cueAt - countIn, InstrumentState.CUE_READY, spriteUrl]);\n  cues.push([cueAt, InstrumentState.HIT, playNotes]);\n  return cues;\n}\n\ntype notes = ({\n  note: number;\n  pitch?: number | null;\n  words?: string;\n})[];\n\nconst getSoloCues = (spriteUrl: string) => (notes: notes): Array<[number, InstrumentState, any]> => {\n  const res = notes\n    .filter(({ words = '' }) => /solo|cue/.test(words))\n    .map(({ note, words = ''}, i, arr) => {\n\n      const matches = words.match(/(solo|cue)-(\\d+)(-cresc)?/i);\n      const beats = matches && matches[2] ? parseFloat(matches[2]) : 1;\n      const cresc = matches && !!(matches[3]);\n\n      // Round to start of a measure\n      let countIn = 6;\n      countIn = note - Math.floor((note - countIn) / 6) * 6;\n      // Make sure it's after last note though\n      if (i > 0 && note > arr[i - 1].note) {\n        // Would the cue-in occur before the last cue?\n        if (note - countIn < arr[i - 1].note) {\n          countIn = note - arr[i - 1].note - 3;\n        }\n      }\n      // Can't ever be smaller than 1 beat\n      if (countIn < 1) {\n        throw new Error(`countIn cannot be less than 1`);\n      }\n\n      // get notes about to be played\n      // get the first one\n\n      const playNotes = notes.filter((n, ii, notes) => {\n        // Exclude notes in the past\n        if(n.note < note) return false;\n        // Exclude the cue/notes/words\n        if(n.words) return false;\n        // Exclude notes past the next cue\n        if(i + 1 < arr.length && n.note >= arr[i + 1].note) return false;\n\n        // No farther than \"beats\"\n        if(n.note - note > beats) return false;\n\n        return true;\n      })\n      .map(({note}) => note)\n      .filter((v, i, arr) => arr.indexOf(v) === i); // Unique\n\n      playNotes.sort((a,b) => Math.sign(a - b));\n\n      return countdown(note, countIn, spriteUrl, playNotes);\n    })\n    .reduce((acc, arr) => [...acc, ...arr], []);\n\n  res.sort(([a], [b]) => Math.sign(a - b));\n  return res;\n}\n\nexport const interactives: Array<{\n  name: string,\n  graphicsPath: () => void,\n  color: number,\n  cues: Array<[number, InstrumentState, any]>\n}> = [\n    {\n      name: \"cello\",\n      graphicsPath: celloGraphics,\n      color: 0xdbdbdb,\n      cues: getSoloCues(celloIcon)([\n        ...parts.P34.notes, // Cello\n        ...parts.P35.notes // Cell div\n      ]),\n    },\n    {\n      name: \"bass\",\n      graphicsPath: bassGraphics,\n      color: 0xdbdbdb,\n      cues: getSoloCues(bassIcon)([\n        ...parts.P36.notes // Double bass\n      ]),\n    },\n    {\n      name: \"brass\",\n      graphicsPath: brassGraphics,\n      color: 0xe8e8e8,\n      cues: [\n        ...getSoloCues(trumpetIcon)(parts.P10.notes), // Trumpet in Bb 1, 2\n        ...getSoloCues(trumpetIcon)(parts.P11.notes), // Trumpet in Bb 3\n        ...getSoloCues(brassIcon)(parts.P12.notes), // Trombone\n        ...getSoloCues(brassIcon)(parts.P13.notes), // Bass Trombone\n        ...getSoloCues(brassIcon)(parts.P14.notes), // Cimbasso (sub. Tuba or C.B Trombone)\n      ],\n    },\n    {\n      name: \"harp\",\n      graphicsPath: harpGraphics,\n      color: 0xdbdbdb,\n      cues: getSoloCues(harpIcon)([\n        ...parts.P21.notes, // Harp\n      ]),\n    },\n    {\n      name: \"horn\",\n      graphicsPath: hornGraphics,\n      color: 0xdbdbdb,\n      cues: getSoloCues(hornIcon)([\n        ...parts.P8.notes, // Horn in F 1, 2\n        ...parts.P9.notes, // Horn in F 3 (&amp; 4)\n      ]),\n    },\n    {\n      name: \"percussion\",\n      graphicsPath: percussionGraphics,\n      color: 0xe8e8e8,\n      cues: [\n        ...getSoloCues(timpaniIcon)(parts.P15.notes), // Timpani\n        ...getSoloCues(cymbalsIcon)(parts.P16.notes), // Cymbals\n        ...getSoloCues(tamtamIcon)(parts.P17.notes), // Tamtam\n      ],\n    },\n    {\n      name: \"piano\",\n      graphicsPath: pianoGraphics,\n      color: 0xdbdbdb,\n      cues: getSoloCues(keyboardIcon)([\n        ...parts.P18.notes, // Electric Piano (Pre-Record)\n        ...parts.P19.notes, // Piano (Optional)\n      ]),\n    },\n    {\n      name: \"viola\",\n      graphicsPath: violaGraphics,\n      color: 0xe8e8e8,\n      cues: getSoloCues(stringIcon)([\n        ...parts.P26.notes, // Solo Viola\n        ...parts.P32.notes, // Viola\n        ...parts.P33.notes, // Viola DIV\n      ]),\n    },\n    {\n      name: \"violin_1\",\n      graphicsPath: violin_1Graphics,\n      color: 0xe8e8e8,\n      cues: getSoloCues(stringIcon)([\n        ...parts.P24.notes, // Solo Violin I\n        ...parts.P28.notes, // Violin I\n        ...parts.P29.notes, // Violin 1 DIV\n      ]),\n    },\n    {\n      name: \"violin_2\",\n      graphicsPath: violin_2Graphics,\n      color: 0xdbdbdb,\n      cues: getSoloCues(stringIcon)([\n        ...parts.P25.notes, // Solo  Violin II\n        ...parts.P30.notes, // Violin II\n        ...parts.P31.notes, // Violin II DIV\n      ]),\n    },\n    {\n      name: \"woodwind\",\n      graphicsPath: woodwindGraphics,\n      color: 0xe8e8e8,\n      cues: [\n        ...getSoloCues(fluteIcon)(parts.P1.notes), // Flute 1, 2\n        ...getSoloCues(oboeIcon)(parts.P2.notes), // Oboe\n        ...getSoloCues(clarinetIcon)(parts.P4.notes), // Clarinet in Bb 1, 2\n        ...getSoloCues(clarinetIcon)(parts.P5.notes), // Bass Clarinet\n        ...getSoloCues(clarinetIcon)(parts.P6.notes), // Bassoon 1, 2\n        ...getSoloCues(clarinetIcon)(parts.P7.notes), // Contrabassoon (Optional)\n      ],\n    },\n  ];","import { Container, Loader, Texture, Sprite, Graphics, Point } from \"pixi.js\";\n\nexport class VideoPlayer extends Container {\n  public isLoaded: boolean = false;\n  protected videoSprite: Sprite;\n  public nativeWidth: number;\n  public nativeHeight: number;\n  public nativeRatio: number;\n  protected videoData: HTMLVideoElement;\n  protected overlayGraphics: Graphics;\n  private animationFrameId: number;\n  public canInteract = true;\n  protected playButtonSizeRatio = 0.1;\n  statusText: string = \"Unloaded\";\n  private loadProgress: number = 0;\n  protected autoplay: boolean = false;\n\n  constructor(public videoUrl: string, public playerWidth: number = 256, public accentColor: number = 0xeeeeee) {\n    super();\n\n    this.overlayGraphics = new Graphics();\n    this.addChild(this.overlayGraphics);\n    this.updateGraphics();\n\n    this.interactive = true;\n    this.cursor = \"pointer\";\n    this.on('pointertap', this.interact.bind(this));\n  }\n\n  interact() {\n    if(this.videoData && this.canInteract) {\n      if(this.videoData.paused) {\n        this.videoData.play();\n        this.emit(\"play\");\n        this.statusText = \"Playing\";\n        if(this.animationFrameId === -1) {\n          this.animationFrameId = window.requestAnimationFrame(this.updateGraphics.bind(this));\n        }\n      } else {\n        this.videoData.pause();\n        this.emit(\"pause\");\n        this.statusText = \"Paused\";\n        this.updateGraphics();\n        if(this.animationFrameId !== -1) {\n          window.cancelAnimationFrame(this.animationFrameId);\n          this.animationFrameId = -1;\n        }\n      }\n    }\n  }\n\n  pause() {\n    if(this.videoData && !this.videoData.paused) {\n      this.videoData.pause();\n      this.emit(\"pause\");\n      this.statusText = \"Paused\";\n      this.updateGraphics();\n      if(this.animationFrameId !== -1) {\n        window.cancelAnimationFrame(this.animationFrameId);\n        this.animationFrameId = -1;\n      }\n    }\n  }\n\n  resume() {\n    if(this.videoData && this.videoData.paused) {\n      this.videoData.play();\n      this.emit(\"play\");\n      this.statusText = \"Playing\";\n      if(this.animationFrameId === -1) {\n        this.animationFrameId = window.requestAnimationFrame(this.updateGraphics.bind(this));\n      }\n    }\n  }\n\n  set currentTime(value: number) {\n    this.videoData.currentTime = value;\n  }\n\n  get currentTime(): number {\n    return this.videoData.currentTime\n  }\n\n  get isPlaying(): boolean {\n    return !this.videoData.paused;\n  }\n\n  get duration(): number {\n    return this.videoData.duration;\n  }\n\n  get percentLoaded(): number {\n    return this.loadProgress;\n  }\n\n  playerEnded() {\n    this.emit(\"ended\");\n  }\n\n  async preload() {\n    this.statusText = \"Loading\";\n    let playEventSet = false;\n    if(!Loader.shared.resources[this.videoUrl]) {\n\n      // If not already loaded\n      await new Promise((resolve) => {\n        const loaderTimer = setInterval(() => {\n          if(typeof Loader.shared.resources[this.videoUrl] === \"undefined\") {\n            return;\n          }\n          try {\n            const buffered = Loader.shared.resources[this.videoUrl].data.buffered;\n            const total = Loader.shared.resources[this.videoUrl].data.duration;\n\n            const end = buffered.end(0);\n\n            this.loadProgress = end/total;\n          } catch {}\n\n          if(!playEventSet) {\n            Loader.shared.resources[this.videoUrl].data.addEventListener(\"playing\", doneLoading);\n            Loader.shared.resources[this.videoUrl].data.addEventListener(\"play\", doneLoading);\n            Loader.shared.resources[this.videoUrl].data.addEventListener(\"canplaythrough\", doneLoading);\n            playEventSet = true;\n          }\n\n        },200);\n\n        const doneLoading = () => {\n          clearInterval(loaderTimer);\n          Loader.shared.resources[this.videoUrl].data.removeEventListener(\"playing\", doneLoading);\n          Loader.shared.resources[this.videoUrl].data.removeEventListener(\"play\", doneLoading);\n          Loader.shared.resources[this.videoUrl].data.removeEventListener(\"canplaythrough\", doneLoading);\n          resolve();\n        }\n\n        Loader.shared.add(this.videoUrl).load(doneLoading);\n\n      });\n    }\n\n    await new Promise((resolve) => {\n      Loader.shared.onComplete.once(resolve);\n    });\n\n    this.loadProgress = 1;\n\n    this.videoData = Loader.shared.resources[this.videoUrl].data;\n    const videoBaseTexture: Texture = Texture.from(this.videoData);\n\n    this.videoData.addEventListener(\"ended\", this.playerEnded.bind(this));\n\n    this.videoData.loop = false;\n    this.videoData.autoplay = this.autoplay;\n\n    if(!this.autoplay) {\n      setTimeout(() => {\n        this.videoData.currentTime = 0;\n      }, 0);\n    }\n\n    this.videoSprite = new Sprite(videoBaseTexture);\n    this.nativeWidth = this.videoSprite.width;\n    this.nativeHeight = this.videoSprite.height;\n    this.nativeRatio = this.nativeWidth / this.nativeHeight;\n\n    this.addChild(this.videoSprite);\n    this.videoSprite.position.set(0,0);\n    this.isLoaded = true;\n\n    // Bring overlay back to top\n    this.removeChild(this.overlayGraphics);\n    this.addChild(this.overlayGraphics);\n\n    this.statusText = \"Paused\";\n    this.resizeVideo(this.playerWidth);\n  }\n\n  resizeVideo(playerWidth: number) {\n    this.playerWidth = playerWidth;\n    const scale = this.playerWidth / this.nativeWidth;\n    this.videoSprite.scale.set(scale);\n    this.updateGraphics();\n  }\n\n  updateGraphics() {\n    if(this.videoSprite) {\n      this.overlayGraphics.visible = true;\n      this.overlayGraphics.position.set(this.playerWidth / 2, this.videoSprite.height / 2);\n    } else {\n      this.overlayGraphics.visible = false;\n    }\n    this.animationFrameId = window.requestAnimationFrame(this.updateGraphics.bind(this));\n    this.overlayGraphics.clear();\n    if(this.videoData) {\n      if(this.videoData.paused && this.canInteract) {\n        this.overlayGraphics.beginFill(this.accentColor);\n        const r = this.playerWidth*this.playButtonSizeRatio;\n        const c = Math.cos(Math.PI * 2/3);\n        const s = Math.sin(Math.PI * 2/3);\n        this.overlayGraphics.drawPolygon([\n          new Point(c * r, -s * r),\n          new Point(r, 0),\n          new Point(c * r, s * r),\n        ])\n        this.overlayGraphics.endFill();\n      }\n    }\n  }\n\n  destroy() {\n    // @TODO - clear loading of video if still in progress\n    super.destroy();\n    if(this.videoData) {\n      this.videoData.removeEventListener(\"ended\", this.playerEnded.bind(this));\n      this.videoData.currentTime = 0;\n      this.videoData.pause();\n    }\n  }\n}"],"sourceRoot":""}